var __awaiter=this&&this.__awaiter||function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,a){function r(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n["throw"](e))}catch(e){a(e)}}function l(e){e.done?i(e.value):o(e.value).then(r,s)}l((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,r;return r={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(r&&(r=0,s[0]&&(i=0)),i)try{if(n=1,o&&(a=s[0]&2?o["return"]:s[0]?o["throw"]||((a=o["return"])&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;if(o=0,a)s=[s[0]&2,a.value];switch(s[0]){case 0:case 1:a=s;break;case 4:i.label++;return{value:s[1],done:false};case 5:i.label++;o=s[1];s=[0];continue;case 7:s=i.ops.pop();i.trys.pop();continue;default:if(!(a=i.trys,a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){i=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(s[0]===6&&i.label<a[1]){i.label=a[1];a=s;break}if(a&&i.label<a[2]){i.label=a[2];i.ops.push(s);break}if(a[2])i.ops.pop();i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e];o=0}finally{n=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++){if(a||!(n in t)){if(!a)a=Array.prototype.slice.call(t,0,n);a[n]=t[n]}}return e.concat(a||Array.prototype.slice.call(t))};import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from"./index-9351b1b6.js";import{t as throttle,d as debounce}from"./index-d2256e06.js";import{g as getUserLang,p as persistLanguageChoice}from"./language.service-c2fe2302.js";import{u as uniqueId}from"./utils-5bf107ff.js";import{s as state,d as dispose}from"./store-0dceecec.js";import{S as SvgSprite}from"./svg-sprite.component-ee66c88a.js";import{S as SvgIcon}from"./svg-icon.component-256596ec.js";import{I as If}from"./if.component-542fb8c3.js";var markActiveRoute=function(e,t){if(t===false){return e}var i;e=resetOverrideConfig(e);if(t==="auto"||t==="exact"){if(hasActivePortalRoute(e)){return resetActiveStateToPortalConfig(e)}i=new URL(window.location.href)}else{try{i=new URL(t,document.location.origin)}catch(i){console.warn("Active Route: ".concat(t," is not a valid URL. Navigation highlighting has been disabled."));return e}}var n=compileScoreList(e,i,t);if(n.length===0){return e}var o=n[0];o.main.isActiveOverride=true;if(o.sub)o.sub.isActiveOverride=true;return e};var hasActivePortalRoute=function(e){return e.filter((function(e){return e.isActive})).length>0};var resetActiveStateToPortalConfig=function(e){return e.map((function(e){return Object.assign(Object.assign({},e),{isActiveOverride:e.isActive,flyout:e.flyout.map((function(e){return Object.assign(Object.assign({},e),{linkList:e.linkList.map((function(e){return Object.assign(Object.assign({},e),{isActiveOverride:e.isActive})}))})}))})}))};var resetOverrideConfig=function(e){return e.map((function(e){return Object.assign(Object.assign({},e),{isActiveOverride:false,flyout:e.flyout.map((function(e){return Object.assign(Object.assign({},e),{linkList:e.linkList.map((function(e){return Object.assign(Object.assign({},e),{isActiveOverride:false})}))})}))})}))};var compileScoreList=function(e,t,i){var n=false;var o=[];e.forEach((function(e){if(n||!e){return}try{var a=compareRoutes(t,new URL(e.url),i);if(a>0){if(a===Infinity)n=true;o.push({main:e,score:a})}}catch(e){}if(e.flyout.length){e.flyout.forEach((function(a){if(a.linkList){a.linkList.forEach((function(a){if(a.isActive&&(i==="auto"||i==="exact")){n=true;return}try{var r=new URL(a.url);var s=compareRoutes(t,r,i);if(s>0){if(s===Infinity)n=true;o.push({main:e,sub:a,score:s})}}catch(e){}}))}}))}}));return o.sort((function(e,t){return t.score-e.score}))};var compareRoutes=function(e,t,i){if(!e||!t||e.origin!==t.origin){return 0}if(e.pathname===t.pathname){return Infinity}if(e.pathname.length<t.pathname.length){return 0}if(i==="auto"){var n=__spreadArray([e.origin],e.pathname.split("/").filter((function(e){return!!e})),true);var o=__spreadArray([t.origin],t.pathname.split("/").filter((function(e){return!!e})),true);var a=getSimilarityScore(n,o);return Math.min(n.length,o.length)===a?a:0}return 0};var getSimilarityScore=function(e,t){if(!(e===null||e===void 0?void 0:e.length)||!(t===null||t===void 0?void 0:t.length)){return 0}var i=0;for(;i<Math.min(e.length,t.length);i++){if(e[i]!==t[i]){return 0}}return i};var request=null;var osFlyoutCache=null;var getLocalizedConfig=function(e){var t=e.projectId,i=e.environment,n=e.language,o=e.cookieKey,a=e.localStorageKey,r=e.activeRouteProp,s=e.localizedCustomConfig,l=e.osFlyoutOverrides;return __awaiter(void 0,void 0,void 0,(function(){var e,d,c,u,h,g;return __generator(this,(function(p){switch(p.label){case 0:if(!request){request=fetchConfig(t,i)}return[4,request];case 1:c=p.sent();u=getUserLang(Object.keys(c),n,a,o);if(u===undefined){throw new Error("Internet Header: unable to determine current language")}h=Object.assign({},c[u]);if(s){g=((e=s===null||s===void 0?void 0:s.header)===null||e===void 0?void 0:e.navMain)?Object.assign(Object.assign({},h.header),{navMain:__spreadArray(__spreadArray([],h.header.navMain,true),s.header.navMain,true)}):h.header;h=Object.assign(Object.assign({},h),{header:g})}if(l)h.header.navMain=mergeOsFlyoutOverrides(h,l);if(r)h.header.navMain=markActiveRoute(h.header.navMain,r);setMainNavigationIds((d=h===null||h===void 0?void 0:h.header)===null||d===void 0?void 0:d.navMain);persistLanguageChoice(u,o,a);return[2,h]}}))}))};var mergeOsFlyoutOverrides=function(e,t){if(!t)return e.header.navMain;return e.header.navMain.map((function(e){var i,n;if(e.id!=="flyout_os")return e;if(osFlyoutCache===null){osFlyoutCache=JSON.parse(JSON.stringify(e))}var o=(i=t.text)!==null&&i!==void 0?i:osFlyoutCache.text;var a=(n=t.title)!==null&&n!==void 0?n:osFlyoutCache.title;if(!osFlyoutCache.flyout||osFlyoutCache.flyout.length===0||!t.flyout||t.flyout.length===0)return Object.assign(Object.assign({},e),{title:a,text:o});var r=__spreadArray(__spreadArray([],osFlyoutCache.flyout.map((function(e,i){var n;var o=t.flyout[i];var a=(n=o.title)!==null&&n!==void 0?n:e.title;var r=o.linkList?t.flyout[i].linkList:[];return{title:a,linkList:__spreadArray(__spreadArray([],e.linkList,true),r,true)}})),true),t.flyout.slice(osFlyoutCache.flyout.length),true);return Object.assign(Object.assign({},e),{text:o,title:a,flyout:r})}))};var fetchConfig=function(e,t){return __awaiter(void 0,void 0,void 0,(function(){var i,n,o;return __generator(this,(function(a){switch(a.label){case 0:if(!isValidProjectId(e)){throw new Error('Internet Header: invalid project id "'.concat(e,'"'))}if(e==="test"){t="int01"}i=generateConfigUrl(e,t);a.label=1;case 1:a.trys.push([1,4,,5]);return[4,fetch(i)];case 2:n=a.sent();return[4,n.json()];case 3:return[2,a.sent()];case 4:o=a.sent();throw new Error("Internet Header: fetching config failed. ".concat(o.message));case 5:return[2]}}))}))};var generateConfigUrl=function(e,t){if(e==="test")return"assets/config/test-configuration.json";var i=t.toLowerCase();var n=i==="prod";var o="https://".concat(n?"www":"int",".post.ch");try{return new URL("".concat(o,"/api/headerjs/Json?serviceid=").concat(encodeURIComponent(e)).concat(!n?"&environment="+i:"")).toString()}catch(e){throw new Error("Internet Header: Config URL is invalid.")}};var isValidProjectId=function(e){return e!==""&&e.length>0&&/^[a-zA-Z][\w-]*[a-zA-Z0-9]$/.test(e)};var getLocalizedCustomConfig=function(e,t){var i;var n;try{n=typeof e==="string"?JSON.parse(e):e}catch(e){throw new Error("Internet Header: Custom config is invalid. Make sure your custom config contains valid JSON syntax and matches the definition. ")}var o=n[t];if((i=o===null||o===void 0?void 0:o.header)===null||i===void 0?void 0:i.navMain)setMainNavigationIds(o.header.navMain);return o};var setMainNavigationIds=function(e){e.forEach((function(e){e.id=e.id==="flyout_os"?e.id:uniqueId("main-nav-")}))};var name="@swisspost/internet-header";var version="1.5.3";var description="The header for client facing applications.";var author="Swiss Post <oss@post.ch>";var license="Apache-2.0";var repository={type:"git",url:"https://github.com/swisspost/design-system.git"};var homepage="https://next.design-system.post.ch";var bugs={url:"https://github.com/swisspost/design-system/issues"};var main="loader/index.cjs.js";var module="loader/index.js";var es2015="loader/index.es2017.js";var es2017="loader/index.es2017.js";var types="loader/index.d.ts";var collection="dist/collection/collection-manifest.json";var unpkg="loader/cdn.js";var publishConfig={access:"public"};var files=["dist/","loader/"];var scripts={start:"stencil build --docs --watch",dev:"stencil build --watch --serve --docs --dev",build:"stencil build --docs",test:"npm run unit",unit:"jest","unit:watch":"jest --watch",e2e:"cypress run","e2e:watch":"cypress open",snapshots:"percy exec -- cypress run --browser chromium --config-file ./cypress.snapshot.config.js --record --key 0995e768-43ec-42bd-a127-ff944a2ad8c9",clean:"rimraf www dist loader storybook-static",lint:"eslint src/**/*{.ts,.tsx}","lint:fix":"eslint src/**/*{.ts,.tsx} --fix",generate:"stencil generate"};var dependencies={"@stencil/core":"3.0.1","@stencil/store":"2.0.3","body-scroll-lock":"4.0.0-beta.0","iframe-resizer":"4.3.4",jquery:"3.6.3",tabbable:"6.1.1","throttle-debounce":"5.0.0","url-polyfill":"1.1.12"};var devDependencies={"@babel/core":"7.21.0","@percy/cli":"1.20.0","@percy/cypress":"3.1.2","@stencil/eslint-plugin":"0.4.0","@stencil/sass":"2.0.3","@swisspost/design-system-styles":"workspace:5.3.2","@types/iframe-resizer":"3.5.9","@types/jest":"26.0.24","@types/jquery":"3.5.16","@types/node":"18.14.0","@types/throttle-debounce":"5.0.0","babel-loader":"9.1.2",bootstrap:"5.2.3",cypress:"12.6.0","cypress-each":"1.13.1","cypress-storybook":"0.5.1","eslint-plugin-react":"7.32.2",globby:"13.1.3",jest:"26.6.3",rimraf:"4.1.2","rollup-plugin-node-polyfills":"0.2.1","rollup-plugin-scss":"4.0.0","rollup-plugin-visualizer":"5.9.0",sass:"1.58.3","start-server-and-test":"1.15.4","ts-jest":"26.5.6",typescript:"4.9.5"};var packageJson={name:name,version:version,description:description,author:author,license:license,repository:repository,homepage:homepage,bugs:bugs,main:main,module:module,es2015:es2015,es2017:es2017,"jsnext:main":"loader/index.es2017.js",types:types,collection:collection,"collection:main":"dist/collection/index.js",unpkg:unpkg,publishConfig:publishConfig,files:files,scripts:scripts,dependencies:dependencies,devDependencies:devDependencies};var postInternetHeaderCss="*,:host,*::before,*::after{-webkit-box-sizing:border-box;box-sizing:border-box}button{font:inherit;padding:0}img,svg{max-width:100%;max-height:100%}@media (forced-colors: active){svg{color:white}}.no-list{list-style:none;padding-left:0;margin-top:0;margin-bottom:0}.btn-blank{background-color:transparent;border:none;border-radius:0;padding:0}.nav-link{text-decoration:none;color:rgba(0, 0, 0, 0.8);-webkit-transition:color 200ms;transition:color 200ms;background-color:transparent;border-radius:0;-webkit-box-shadow:none;box-shadow:none;border:0;margin:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:0.5rem}.nav-link:hover,.nav-link:focus{color:black}.nav-link>svg{width:1.4em;height:1.4em;-ms-flex-negative:0;flex-shrink:0}.nav-link>span{-ms-flex-negative:1;flex-shrink:1}.box>*:first-child{margin-top:0}.box>*:last-child{margin-bottom:0}.mirrored{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.bold{font-weight:700}.light{font-weight:300}.d-flex{display:-ms-flexbox;display:flex}.d-inline-flex{display:-ms-inline-flexbox;display:inline-flex}.align-items-center{-ms-flex-align:center;align-items:center}@media (min-width: 1441px){.wide-container{margin:0 auto;max-width:1440px}}@media (max-width: 599.98px){.container{padding-right:16px;padding-left:16px}}@media (min-width: 600px) and (max-width: 1023.98px){.container{padding-right:32px;padding-left:32px}}@media (min-width: 1024px){.container{padding-right:40px;padding-left:40px}}.visually-hidden{position:absolute;width:1px;height:1px;border:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0)}@media (max-width: -0.02px){.hidden-xs{display:none}}@media (max-width: 399.98px){.hidden-sm{display:none}}@media (max-width: 599.98px){.hidden-rg{display:none}}@media (max-width: 779.98px){.hidden-md{display:none}}@media (max-width: 1023.98px){.hidden-lg{display:none}}@media (max-width: 1279.98px){.hidden-xl{display:none}}@media (max-width: 1440.98px){.hidden-xxl{display:none}}:host{display:block;position:relative;font-size:1rem;font-weight:300;z-index:var(--header-z-index, 10);--header-height:3.5rem;--meta-header-height:0px;--language-dropdown-margin-top:0px}@media (min-width: 1024px){:host{--meta-header-height:3rem;--header-height:4rem}}@media (min-width: 1280px){:host{--header-height:4.5rem}}:host([meta=false]){--meta-header-height:0px;--language-dropdown-margin-top:1px}@supports ((position: -webkit-sticky) or (position: sticky)){:host(:not(.stickyness-none)){position:-webkit-sticky;position:sticky}:host(.stickyness-full){top:0}:host(.stickyness-main){top:calc(var(--meta-header-height, 0px) * -1)}:host(.stickyness-minimal){top:calc((var(--header-height, 0px) + var(--meta-header-height, 0px)) * -1);-webkit-transition:top 200ms ease-in;transition:top 200ms ease-in}:host(.stickyness-minimal.scrolling-up),:host(.stickyness-minimal.dropdown-open){top:calc(var(--meta-header-height, 0px) * -1);-webkit-transition:top 200ms ease-out;transition:top 200ms ease-out}}.post-internet-header{border-bottom:1px solid #e6e6e6;background-color:white}.main-navigation-container{display:-ms-flexbox;display:flex}.main-navigation-container>.main-navigation-controls{-ms-flex:0 0 auto;flex:0 0 auto}.main-navigation{display:-ms-flexbox;display:flex}.sub-navigation-container{position:absolute;top:100%;left:0;width:100%;display:-ms-flexbox;display:flex;background:white;visibility:hidden}.main-navigation-item:hover .sub-navigation-container{visibility:visible}.main-navigation-controls{display:-ms-flexbox;display:flex;margin-left:auto}@media (max-width: 1023.98px){.main-navigation-controls{font-weight:400}}@media (min-width: 1024px){.main-navigation-controls{font-size:1.0625rem}}.main-navigation-controls>*{border-left:1px solid #e6e6e6}.menu-button{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:0 calc(1rem - 1px);font-weight:300;cursor:pointer;border-left:1px solid #e6e6e6;-ms-flex-order:1;order:1;}@media (min-width: 1024px){.menu-button{display:none}}@media (min-width: 600px) and (max-width: 1023.98px){.menu-button .visually-hidden{position:static;width:auto;height:auto;margin:auto;overflow:visible;clip:auto;visibility:visible;margin-right:0.5rem}}.menu-button svg{width:1.5rem;height:1.5rem}.full-width .wide-container{max-width:none}";var PostInternetHeader=function(){function e(e){registerInstance(this,e);this.headerLoaded=createEvent(this,"headerLoaded",7);this.lastScrollTop=window.scrollY||document.documentElement.scrollTop;this.lastWindowWidth=window.innerWidth;this.handleClickOutsideBound=this.handleClickOutside.bind(this);this.project=undefined;this.stickyness="minimal";this.language=undefined;this.meta=true;this.login=true;this.search=true;this.skiplinks=true;this.configProxy=undefined;this.environment="prod";this.languageSwitchOverrides=undefined;this.customConfig=undefined;this.languageCookieKey=undefined;this.languageLocalStorageKey="swisspost-internet-header-language";this.activeRoute="auto";this.osFlyoutOverrides=undefined;this.fullWidth=false;this.activeFlyout=null;this.activeDropdownElement=null;if(this.project===undefined||this.project===""||!isValidProjectId(this.project)){throw new Error('Internet Header project key is "'.concat(this.project,'". Please provide a valid project key.'))}}e.prototype.getCurrentLanguage=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){return[2,(e=state.currentLanguage)!==null&&e!==void 0?e:"de"]}))}))};e.prototype.connectedCallback=function(){var e=this;this.throttledScroll=throttle(300,(function(){return e.handleScrollEvent()}));this.debouncedResize=debounce(200,(function(){return e.handleResize()}));window.addEventListener("scroll",this.throttledScroll,{passive:true});window.addEventListener("resize",this.debouncedResize,{passive:true})};e.prototype.disconnectedCallback=function(){window.removeEventListener("scroll",this.throttledScroll);window.removeEventListener("resize",this.debouncedResize);dispose()};e.prototype.componentWillLoad=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);state.projectId=this.project;state.environment=this.environment;if(this.language!==undefined)state.currentLanguage=this.language;state.languageSwitchOverrides=typeof this.languageSwitchOverrides==="string"?JSON.parse(this.languageSwitchOverrides):this.languageSwitchOverrides;state.osFlyoutOverrides=typeof this.osFlyoutOverrides==="string"?JSON.parse(this.osFlyoutOverrides):this.osFlyoutOverrides;if(this.customConfig!==undefined&&state.currentLanguage!==null){state.localizedCustomConfig=getLocalizedCustomConfig(this.customConfig,state.currentLanguage)}e=state;return[4,getLocalizedConfig({projectId:this.project,environment:this.environment,language:this.language,cookieKey:this.languageCookieKey,localStorageKey:this.languageLocalStorageKey,activeRouteProp:this.activeRoute,localizedCustomConfig:state.localizedCustomConfig,osFlyoutOverrides:state.osFlyoutOverrides})];case 1:e.localizedConfig=i.sent();return[3,3];case 2:t=i.sent();console.error(t);return[3,3];case 3:return[2]}}))}))};e.prototype.componentDidLoad=function(){var e=this;window.requestAnimationFrame((function(){e.handleResize();e.headerLoaded.emit();e.host.classList.add("header-loaded")}))};e.prototype.handleLanguageChange=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:state.currentLanguage=e;t=state;return[4,getLocalizedConfig({projectId:this.project,environment:this.environment,language:e,cookieKey:this.languageCookieKey,localStorageKey:this.languageLocalStorageKey,activeRouteProp:this.activeRoute,localizedCustomConfig:state.localizedCustomConfig,osFlyoutOverrides:state.osFlyoutOverrides})];case 1:t.localizedConfig=i.sent();if(this.customConfig)state.localizedCustomConfig=getLocalizedCustomConfig(this.customConfig,e);return[2]}}))}))};e.prototype.handleAvailableLanguagesChage=function(e){state.languageSwitchOverrides=typeof e==="string"?JSON.parse(e):e};e.prototype.handleOsFlyoutOverrides=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:state.osFlyoutOverrides=typeof e==="string"?JSON.parse(e):e;t=state;return[4,getLocalizedConfig({projectId:this.project,environment:this.environment,language:this.language,cookieKey:this.languageCookieKey,localStorageKey:this.languageLocalStorageKey,activeRouteProp:this.activeRoute,localizedCustomConfig:state.localizedCustomConfig,osFlyoutOverrides:state.osFlyoutOverrides})];case 1:t.localizedConfig=i.sent();return[2]}}))}))};e.prototype.handleActiveRouteChange=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:t=state;return[4,getLocalizedConfig({projectId:this.project,environment:this.environment,language:this.language,cookieKey:this.languageCookieKey,localStorageKey:this.languageLocalStorageKey,activeRouteProp:e,localizedCustomConfig:state.localizedCustomConfig,osFlyoutOverrides:state.osFlyoutOverrides})];case 1:t.localizedConfig=i.sent();return[2]}}))}))};e.prototype.handleCustomConfigChange=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(n){switch(n.label){case 0:if(this.language===undefined)return[2];t=getLocalizedCustomConfig(e,this.language);state.localizedCustomConfig=t;i=state;return[4,getLocalizedConfig({projectId:this.project,environment:this.environment,language:this.language,cookieKey:this.languageCookieKey,localStorageKey:this.languageLocalStorageKey,activeRouteProp:this.activeRoute,localizedCustomConfig:t,osFlyoutOverrides:state.osFlyoutOverrides})];case 1:i.localizedConfig=n.sent();return[2]}}))}))};e.prototype.handleSearchChange=function(e){state.search=e};e.prototype.handleLoginChange=function(e){state.login=e};e.prototype.handleMetaChange=function(e){state.meta=e};e.prototype.handleLanguageChangeEvent=function(e){this.handleLanguageChange(e.detail)};e.prototype.handleClickOutside=function(e){if(this.activeDropdownElement&&!e.composedPath().includes(this.activeDropdownElement)){this.activeDropdownElement.toggleDropdown(false)}};e.prototype.handleKeyUp=function(e){if(e.key==="Escape"){if(this.activeDropdownElement){this.activeDropdownElement.toggleDropdown(false)}if(this.activeFlyout!==null&&this.mainNav){this.mainNav.toggleDropdown(false)}}};e.prototype.handleScrollEvent=function(){var e=window.scrollY||document.documentElement.scrollTop;if(this.stickyness==="minimal"){this.host.classList.toggle("scrolling-up",e<=this.lastScrollTop)}this.lastScrollTop=e<=0?0:e};e.prototype.handleResize=function(){var e;if(this.isMainNavOpen()&&this.lastWindowWidth<1024&&window.innerWidth>=1024){(e=this.activeDropdownElement)===null||e===void 0?void 0:e.toggleDropdown(false)}this.lastWindowWidth=window.innerWidth};e.prototype.handleDropdownToggled=function(e){var t=this;if(!e.detail.open&&this.activeDropdownElement!==e.detail.element){return}if(e.detail.open===true){if(this.activeDropdownElement){this.activeDropdownElement.toggleDropdown(false)}this.activeDropdownElement=e.detail.element;if(window.innerWidth>=1024){window.setTimeout((function(){window.addEventListener("click",t.handleClickOutsideBound)}),10)}if(this.activeFlyout!==null&&this.mainNav){this.mainNav.setActiveFlyout(null)}}else{this.activeDropdownElement=null;window.removeEventListener("click",this.handleClickOutsideBound)}};e.prototype.handleFlyoutToggled=function(e){this.activeFlyout=e.detail;if(this.activeDropdownElement&&e.detail&&!this.isMainNavOpen()){this.activeDropdownElement.toggleDropdown(false)}};e.prototype.toggleMobileDropdown=function(){var e;(e=this.mainNav)===null||e===void 0?void 0:e.toggleDropdown()};e.prototype.isMainNavOpen=function(){return this.activeDropdownElement&&this.activeDropdownElement.tagName==="POST-MAIN-NAVIGATION"};e.prototype.render=function(){var e=this;var t,i,n;if(!((t=state.localizedConfig)===null||t===void 0?void 0:t.header)){console.error(new Error("Internet Header: Config cannot be loaded"));return}var o=state.localizedConfig;var a=this.meta&&o.header.navMeta!==undefined&&((i=o.header.navMeta)===null||i===void 0?void 0:i.filter((function(e){return!e.isHomeLink})).length)>0;var r=((n=this.login)!==null&&n!==void 0?n:!o.header.isLoginWidgetHidden)&&o.header.loginWidgetOptions;var s=o.header.navLang.length>1;return h(Host,{class:"stickyness-".concat(this.stickyness," ").concat(this.activeDropdownElement||this.activeFlyout?"dropdown-open":""),"data-version":packageJson.version,onKeyup:function(t){return e.handleKeyUp(t)}},h("header",{class:"post-internet-header".concat(this.fullWidth?" full-width":"")},h(SvgSprite,null),h(If,{condition:this.skiplinks===true},h("post-skiplinks",null)),h(If,{condition:a===true},h("post-meta-navigation",{orientation:"horizontal",class:"hidden-lg","full-width":this.fullWidth},h(If,{condition:s===true},h("post-language-switch",{id:"post-language-switch-desktop",mode:"dropdown",onDropdownToggled:function(t){return e.handleDropdownToggled(t)}})))),h("div",{class:"main-navigation-container wide-container"},h("post-logo",null),h("button",{class:"menu-button nav-link",onClick:function(){return e.toggleMobileDropdown()}},h("span",{class:"menu-button-text visually-hidden"},o.header.mobileMenu.text),h(SvgIcon,{name:this.isMainNavOpen()?"pi-close":"pi-menu"})),h("post-main-navigation",{onDropdownToggled:function(t){return e.handleDropdownToggled(t)},onFlyoutToggled:function(t){return e.handleFlyoutToggled(t)},ref:function(t){return e.mainNav=t}},h(If,{condition:a===true},h("post-meta-navigation",{orientation:"vertical"},h(If,{condition:s===true},h("post-language-switch",{id:"post-language-switch-mobile",mode:"list"}))))),h("div",{class:"main-navigation-controls"},h(If,{condition:this.search!==false},h("post-search",{onDropdownToggled:function(t){return e.handleDropdownToggled(t)}})),h(If,{condition:!!r},h("post-klp-login-widget",null,h("slot",{name:"login-widget"}))),h(If,{condition:a===false&&s===true},h("post-language-switch",{id:"post-language-switch-no-meta",onDropdownToggled:function(t){return e.handleDropdownToggled(t)},mode:"dropdown"})),h("slot",{name:"main"})))))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{language:["handleLanguageChange"],languageSwitchOverrides:["handleAvailableLanguagesChage"],osFlyoutOverrides:["handleOsFlyoutOverrides"],activeRoute:["handleActiveRouteChange"],customConfig:["handleCustomConfigChange"],search:["handleSearchChange"],login:["handleLoginChange"],meta:["handleMetaChange"]}},enumerable:false,configurable:true});return e}();PostInternetHeader.style=postInternetHeaderCss;export{PostInternetHeader as swisspost_internet_header};
//# sourceMappingURL=swisspost-internet-header.entry.js.map