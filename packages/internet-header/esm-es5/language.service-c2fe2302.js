import{s as state}from"./store-0dceecec.js";var translations={"Close overlay":{de:"Overlay Schliessen",fr:"Fermer la superposition",it:"Chiudi sovrapposizione"},"Current language is English":{de:"Die aktuelle Sprache ist Deutsch",fr:"La langue actuelle est le français",it:"La lingua corrente è l'italiano"},"Change language":{de:"Sprache wechseln",fr:"Changer de langue",it:"Cambia lingua"},"Go to main content":{de:"Zum Hauptinhalt springen",fr:"Aller au contenu principal",it:"Vai al contenuto principale"},"Go to search":{de:"Zur Suche springen",fr:"Aller à la recherche",it:"Vai alla ricerca"},"Go to login":{de:"Zum Login springen",fr:"Aller au login",it:"Vai al login"},"Open menu":{de:"Menü öffnen",fr:"Ouvrir le menu",it:"Apri il menu"},"Navigate on post.ch":{de:"Navigieren auf post.ch",fr:"Naviguer sur post.ch",it:"Navigate su post.ch"}};var getUserLang=function(e,n,a,r){if(e.length===0){return undefined}if(e.length===1){return e[0]}var t=new URL(window.location.href);var i=[n,t.searchParams.get("lang"),t.pathname.split("/").find((function(n){return e.includes(n)})),a!==undefined?window.localStorage.getItem(a):null,getCookie("language"),getCookie("lang"),r!==undefined?getCookie(r):null,document.documentElement.lang,getPreferredLanguageFromBrowser(e),state.currentLanguage].filter((function(e){return!!e}));var o=i.find((function(n){return e.includes(n)}))||e[0];if(!o||o.length!==2){throw new Error("Current language could not be determined from settings or the language provided (".concat(o,") is not supported by the Header API."))}return o};var persistLanguageChoice=function(e,n,a){if(a!==undefined){window.localStorage.setItem(a,e)}if(n!==undefined){setCookie(n,e)}state.currentLanguage=e};var getCookie=function(e){var n;return((n=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"))===null||n===void 0?void 0:n.pop())||""};var setCookie=function(e,n){document.cookie="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n))};var getPreferredLanguageFromBrowser=function(e){if(navigator.language){var n=extractLanguage(navigator.language);if(e.indexOf(n)!==-1){return n}}if(navigator.languages){for(var a=0,r=navigator.languages;a<r.length;a++){var t=r[a];var n=extractLanguage(t);if(e.indexOf(n)!==-1){return n}}}return null};var extractLanguage=function(e){return e.substring(0,2).toLowerCase()};var translate=function(e,n,a){if(a===void 0){a=translations}var r,t,i;return(i=(r=a[e])===null||r===void 0?void 0:r[(t=n!==null&&n!==void 0?n:state.currentLanguage)!==null&&t!==void 0?t:""])!==null&&i!==void 0?i:e};export{getUserLang as g,persistLanguageChoice as p,translate as t};
//# sourceMappingURL=language.service-c2fe2302.js.map