{"file":"post-main-navigation.entry.js","mappings":";;;;;;;;AAGO,MAAM,cAAc,GAAG,CAAC,KAM9B;;EACC,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,QAAQ,CAAC;EAEjD,QACE,EAAC,OAAO,IACN,KAAK,EAAE;MACL,WAAW,EAAE,IAAI;MACjB,QAAQ,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,gBAAgB;MACxC,OAAO,EAAE,KAAK,CAAC,MAAM;KACtB,EACD,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,GAAG,EACrB,KAAK,EACH,CAAA,MAAA,KAAK,CAAC,KAAK,CAAC,KAAK,0CAAE,IAAI,EAAE,KAAI,CAAA,MAAA,KAAK,CAAC,KAAK,CAAC,KAAK,0CAAE,IAAI,EAAE,OAAK,MAAA,KAAK,CAAC,KAAK,CAAC,IAAI,0CAAE,IAAI,EAAE,CAAA;QAC/E,KAAK,CAAC,KAAK,CAAC,KAAK;QACjB,SAAS,EAEf,QAAQ,EAAE,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,SAAS,GAAG,CAAC,mBAC1B,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,mBAC1B,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC,MAAM,GAAG,EAAE,EAC9D,UAAU,EAAE,CAAC,IAAI,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,EACpC,SAAS,EAAE,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAClC,OAAO,EAAE,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;IAE9B,gBAAO,KAAK,CAAC,KAAK,CAAC,IAAI,CAAQ;IAC/B,0BAAiB,MAAM;MACrB,WAAK,IAAI,EAAC,wBAAwB,GAAG,CACjC,CACE,EACV;AACJ,CAAC;;ACtCD,MAAM,qBAAqB,GAAG,27SAA27S;;MCqB58S,kBAAkB;;;;;IAOrB,gBAAW,GAAkB,IAAI,CAAC;IAClC,oBAAe,GAAkB,IAAI,CAAC;IACtC,oBAAe,GAAkB,IAAI,CAAC;;;;EAG9C,iBAAiB;IACf,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,GAAG,EAAE,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;IAChE,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IAC3E,IAAI,CAAC,eAAe,EAAE,CAAC;GACxB;EAED,oBAAoB;IAClB,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IAC3D,uBAAuB,EAAE,CAAC;IAC1B,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI;MAAE,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IAC7E,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI;MAAE,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;GAC9E;EAED,YAAY;;IAEV,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IACxC,IAAI,IAAI,CAAC,WAAW,KAAK,IAAI;MAAE,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACrE,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC;MACnC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;KAC5C,EAAE,GAAG,CAAC,CAAC;IAER,IAAI,CAAC,eAAe,EAAE,CAAC;GACxB;;EAGD,eAAe;IACb,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;MACd,OAAO;KACR;IACD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,iBAAiB,EAAE,GAAG,MAAM,CAAC,WAAW,IAAI,CAAC,CAAC;;;IAI1E,MAAM,CAAC,UAAU,CAAC;MAChB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,iBAAiB,EAAE,GAAG,MAAM,CAAC,WAAW,IAAI,CAAC,CAAC;KAC3E,EAAE,GAAG,CAAC,CAAC;GACT;EAED,UAAU,CAAC,EAAU;;IACnB,MAAM,MAAM,GAAG,MAAA,IAAI,CAAC,IAAI,CAAC,UAAU,0CAAE,cAAc,CAAC,EAAE,CAAC,CAAC;IAExD,IAAI,MAAM,IAAI,IAAI,CAAC,YAAY,KAAK,EAAE,EAAE;;MAEtC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;KACjC;IAED,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC5B,IAAI,CAAC,eAAe,EAAE,CAAC;IAEvB,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI,EAAE;MACjC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;MAC1C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;KAC7B;GACF;EAED,WAAW,CAAC,EAAW;;IACrB,IAAI,EAAE,KAAK,SAAS;MAAE,OAAO;IAC7B,MAAM,MAAM,GAAG,MAAA,IAAI,CAAC,IAAI,CAAC,UAAU,0CAAE,cAAc,CAAC,EAAE,CAAC,CAAC;IAExD,IAAI,MAAM,EAAE;;MAEV,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;KACjC;IAED,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IACzB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;GAC3B;EAED,kBAAkB,CAAC,MAAmB;;IAEpC,IAAI,CAAC,wBAAwB,EAAE,EAAE;MAC/B,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;;MAGhC,MAAM,CAAC,gBAAgB,CAAC,eAAe,EAAE,MAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,EAAE;QACjF,IAAI,EAAE,IAAI;OACX,CAAC,CAAC;KACJ;GACF;EAED,qBAAqB,CAAC,MAAmB;IACvC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;GACpC;EAED,cAAc,CAAC,EAAW;IACxB,OAAO,EAAE,KAAK,IAAI,CAAC,YAAY,CAAC;GACjC;EAED,gBAAgB,CAAC,KAAoB;;IAEnC,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI,EAAE;MACjC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;MAC1C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;KAC7B;;IAGD,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,YAAY,KAAK,KAAK,CAAC,EAAE,EAAE;MAC1D,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;MAC1C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;KAC7B;IAED,IAAI,MAAM,CAAC,UAAU,IAAI,IAAI,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,YAAY,KAAK,KAAK,CAAC,EAAE,EAAE;;MAE1F,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,UAAU,CAAC;QACvC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,KAAK,CAAC,EAAE,KAAK,SAAS;UAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;OACvD,EAAE,GAAG,CAAC,CAAC;KACT;GACF;EAED,gBAAgB,CAAC,KAAoB;;IAEnC,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI,EAAE;MACjC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;KAC3C;;IAGD,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,KAAK,KAAK,CAAC,EAAE,EAAE;MACvD,OAAO;KACR;IAED,IAAI,MAAM,CAAC,UAAU,IAAI,IAAI,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;;;MAGxD,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,UAAU,CAAC;QACvC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;OAC5B,EAAE,GAAG,CAAC,CAAC;KACT;GACF;EAED,cAAc,CAAC,KAAiB,EAAE,KAAoB;IACpD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;;MAErD,IAAI,KAAK,CAAC,UAAU;QAAE,KAAK,CAAC,cAAc,EAAE,CAAC;MAC7C,IAAI,KAAK,CAAC,EAAE;QAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KACzC;GACF;EAED,cAAc,CAAC,KAAoB,EAAE,KAAoB;IACvD,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;;MAE9E,KAAK,CAAC,cAAc,EAAE,CAAC;MACvB,IAAI,KAAK,CAAC,EAAE;QAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KACzC;GACF;EAED,WAAW,CAAC,KAAiB,EAAE,KAAoB;IACjD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;;;;MAIrD,KAAK,CAAC,cAAc,EAAE,CAAC;MACvB,IAAI,KAAK,CAAC,EAAE;QAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;KACzC;GACF;;;;EAKD,aAAa;IACX,IAAI,IAAI,CAAC,cAAc,EAAE;MACvB,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KACvC;SAAM;MACL,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;KACtC;GACF;;;;;;EAQD,MAAM,cAAc,CAAC,KAAe;IAClC,IAAI,CAAC,cAAc,GAAG,KAAK,KAAK,SAAS,GAAG,CAAC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;IACzE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,cAAc,EAAE,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;IAE7E,IAAI,KAAK,KAAK,KAAK,EAAE;MACnB,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB;IAED,IAAI,CAAC,aAAa,EAAE,CAAC;IACrB,IAAI,CAAC,eAAe,EAAE,CAAC;IAEvB,OAAO,IAAI,CAAC,cAAc,CAAC;GAC5B;;;;EAMD,MAAM,QAAQ;;IACZ,MAAM,SAAS,GAAG,MAAA,IAAI,CAAC,IAAI,CAAC,UAAU,0CAAE,aAAa,CAAc,YAAY,CAAC,CAAC;IACjF,IAAI,SAAS,EAAE;MACb,SAAS,CAAC,KAAK,EAAE,CAAC;KACnB;GACF;;;;;EAOD,MAAM,eAAe,CAAC,EAAiB;IACrC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;GAC5C;EAED,MAAM;;IACJ,IAAI,CAAA,MAAA,KAAK,CAAC,eAAe,0CAAE,MAAM,MAAK,SAAS;MAAE,OAAO;IACxD,MAAM,YAAY,GAAG,KAAK,CAAC,eAAe,CAAC,MAAM,CAAC;IAElD,QACE,EAAC,IAAI,QACH,EAAC,SAAS,OAAG,EACb,WACE,EAAE,EAAC,sCAAsC,EACzC,KAAK,EAAE,EAAE,iBAAiB,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,cAAc,EAAE,EAC/D,GAAG,EAAE,EAAE,KAAK,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,IAEpC,UAAI,KAAK,EAAC,iBAAiB,IAAE,YAAY,CAAC,YAAY,CAAC,gBAAgB,CAAM,EAC7E,UAAI,KAAK,EAAC,0BAA0B,IACjC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,KAChC,UACE,GAAG,EAAE,QAAQ,CAAC,IAAI,EAClB,YAAY,EAAE,MAAM,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EACnD,YAAY,EAAE,MAAM,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAEnD,EAAC,cAAc,IACb,KAAK,EAAE,QAAQ,EACf,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC,EACxC,UAAU,EAAE,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,QAAQ,CAAC,EACjD,SAAS,EAAE,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,QAAQ,CAAC,EAChD,OAAO,EAAE,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,QAAQ,CAAC,GAC3C,EACD,CAAC,QAAQ,CAAC,QAAQ,IACjB,WACE,EAAE,EAAE,QAAQ,CAAC,EAAE,EACf,KAAK,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,IAE/D,WAAK,KAAK,EAAC,gBAAgB,IACzB,WAAK,KAAK,EAAC,YAAY,IACrB,cACE,KAAK,EAAC,6BAA6B,EACnC,OAAO,EAAE,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,IAE5C,EAAC,OAAO,IAAC,IAAI,EAAC,uBAAuB,EAAC,UAAU,EAAC,UAAU,GAAG,EAC9D,gBAAO,YAAY,CAAC,YAAY,CAAC,cAAc,CAAQ,CAChD,EACT,cACE,KAAK,EAAC,qBAAqB,EAC3B,OAAO,EAAE,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,IAE5C,YAAM,KAAK,EAAC,iBAAiB,IAC1B,YAAY,CAAC,YAAY,CAAC,oBAAoB,CAC1C,EACP,EAAC,OAAO,IAAC,IAAI,EAAC,UAAU,GAAG,CACpB,CACL,EACN,UAAI,KAAK,EAAC,wBAAwB,IAChC,SAAG,IAAI,EAAE,QAAQ,CAAC,GAAG,EAAE,KAAK,EAAC,UAAU,IACpC,QAAQ,CAAC,IAAI,CACZ,CACD,EACL,WAAK,KAAK,EAAC,sBAAsB,IAC9B,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,KACzB,WAAK,GAAG,EAAE,MAAM,CAAC,KAAK,EAAE,KAAK,EAAC,eAAe,IAC1C,MAAM,CAAC,KAAK,GAAG,cAAK,MAAM,CAAC,KAAK,CAAM,GAAG,IAAI,EAC9C,UAAI,KAAK,EAAC,iBAAiB,IACxB,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,KACvB,UAAI,GAAG,EAAE,IAAI,CAAC,GAAG,IACf,SACE,KAAK,EAAE;QACL,aAAa,EAAE,IAAI;QACnB,QAAQ,EAAE,CAAC,EAAC,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,gBAAgB,CAAA;OACnC,EACD,IAAI,EAAE,IAAI,CAAC,GAAG,EACd,MAAM,EAAE,IAAI,CAAC,MAAM,IAElB,IAAI,CAAC,KAAK,CACT,CACD,CACN,CAAC,CACC,CACD,CACP,CAAC,CACE,CACF,CACF,IACJ,IAAI,CACL,CACN,CAAC,CACC,EACL,eAAa,CACT,CACD,EACP;GACH;;;;;;;","names":[],"sources":["./src/components/post-main-navigation/components/level-one-action.component.tsx","./src/components/post-main-navigation/post-main-navigation.scss?tag=post-main-navigation&encapsulation=shadow","./src/components/post-main-navigation/post-main-navigation.tsx"],"sourcesContent":["import { h } from '@stencil/core';\r\nimport { NavMainEntity } from '../../../models/header.model';\r\n\r\nexport const LevelOneAction = (props: {\r\n  level: NavMainEntity;\r\n  isOpen: boolean;\r\n  onTouchEnd: (e: any) => void;\r\n  onKeyDown: (e: any) => void;\r\n  onClick: (e: any) => void;\r\n}) => {\r\n  const TagName = props.level.url ? 'a' : 'button';\r\n\r\n  return (\r\n    <TagName\r\n      class={{\r\n        'main-link': true,\r\n        'active': !!props.level.isActiveOverride,\r\n        'focus': props.isOpen,\r\n      }}\r\n      href={props.level.url}\r\n      title={\r\n        props.level.title?.trim() && props.level.title?.trim() !== props.level.text?.trim()\r\n          ? props.level.title\r\n          : undefined\r\n      }\r\n      tabindex={props.level.url ? undefined : 0}\r\n      aria-haspopup={!props.level.noFlyout + ''}\r\n      aria-expanded={props.level.noFlyout ? null : props.isOpen + ''}\r\n      onTouchEnd={e => props.onTouchEnd(e)}\r\n      onKeyDown={e => props.onKeyDown(e)}\r\n      onClick={e => props.onClick(e)}\r\n    >\r\n      <span>{props.level.text}</span>\r\n      <svg aria-hidden=\"true\">\r\n        <use href=\"#pi-pointy-arrow-right\" />\r\n      </svg>\r\n    </TagName>\r\n  );\r\n};\r\n","@use '@swisspost/design-system-styles/variables/color';\r\n@use '@swisspost/design-system-styles/placeholders/text';\r\n@use '@swisspost/design-system-styles/functions';\r\n@use '../../utils/utils.scss';\r\n@use '../../utils/mixins.scss';\r\n\r\n:host {\r\n  --host-window-height: var(--window-height, 100vh);\r\n  --calculated-header-height: calc(var(--header-height) + 1px);\r\n\r\n  display: block;\r\n  min-width: 0;\r\n  height: var(--header-height);\r\n}\r\n\r\n:host(.no-animation) {\r\n  * {\r\n    animation: none !important;\r\n    transition: none !important;\r\n  }\r\n}\r\n\r\n.main-navigation,\r\n.main-container,\r\n.main-container li,\r\n.main-link {\r\n  @include mixins.min(lg) {\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n.main-navigation {\r\n  font-size: functions.px-to-rem(18px);\r\n\r\n  @include mixins.min(lg) {\r\n    font-size: functions.px-to-rem(16px);\r\n    margin: 0 0.75rem;\r\n  }\r\n\r\n  @include mixins.min(xl) {\r\n    font-size: functions.px-to-rem(18px);\r\n  }\r\n\r\n  @include mixins.min(xxl) {\r\n    font-size: functions.px-to-rem(20px);\r\n  }\r\n\r\n  @include mixins.max(lg) {\r\n    position: absolute;\r\n    top: var(--calculated-header-height);\r\n    left: 0;\r\n    background: white;\r\n    height: calc(var(--host-window-height) - var(--calculated-header-height));\r\n    width: 100%;\r\n    margin: 0;\r\n    overflow: hidden scroll;\r\n    -webkit-overflow-scrolling: touch;\r\n    overscroll-behavior: contain;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    z-index: -1;\r\n    visibility: hidden;\r\n    transform: translateY(-100%);\r\n    transition: transform 0.35s, visibility 0.35s;\r\n\r\n    @media (prefers-reduced-motion: reduce) {\r\n      transition: none;\r\n    }\r\n\r\n    &.open {\r\n      transform: translateY(0);\r\n      visibility: visible;\r\n    }\r\n  }\r\n}\r\n\r\n.main-container {\r\n  @extend %no-list;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n\r\n  @include mixins.max(lg) {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    justify-content: flex-start;\r\n    padding-top: 2.5rem;\r\n    padding-bottom: 2.5rem;\r\n\r\n    > li + li {\r\n      border-top: 1px solid color.$gray-10;\r\n    }\r\n  }\r\n\r\n  @include mixins.min(lg) {\r\n    padding-right: 0;\r\n    padding-left: 0;\r\n  }\r\n\r\n  > li {\r\n    flex: 0 1 auto;\r\n    min-width: 0;\r\n  }\r\n}\r\n\r\n.main-link {\r\n  @extend %nav-link;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  padding-right: 0.75rem;\r\n  padding-left: 0.75rem;\r\n  text-align: left;\r\n  cursor: pointer;\r\n  width: 100%;\r\n\r\n  @include mixins.min(lg) {\r\n    svg {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @include mixins.max(lg) {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-weight: 300;\r\n    padding: 0.625rem 0;\r\n    width: 100%;\r\n    text-align: left;\r\n\r\n    svg {\r\n      width: 1.5rem;\r\n      height: 1.5rem;\r\n    }\r\n  }\r\n\r\n  span {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n}\r\n\r\n.main-link,\r\n.flyout-link {\r\n  position: relative;\r\n  color: black;\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: -1px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 4px;\r\n    background-color: transparent;\r\n    opacity: 0;\r\n    transform: scaleX(0.8);\r\n    transition: opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1),\r\n      transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n    @media (prefers-reduced-motion: reduce) {\r\n      transition: none;\r\n    }\r\n  }\r\n\r\n  &:hover,\r\n  &.focus {\r\n    &::after {\r\n      background-color: color.$gray-20;\r\n      opacity: 1;\r\n      transform: scale(1);\r\n    }\r\n  }\r\n\r\n  &.active {\r\n    font-weight: 700;\r\n\r\n    &::after {\r\n      background-color: color.$yellow;\r\n      opacity: 1;\r\n      transform: scale(1);\r\n    }\r\n  }\r\n}\r\n\r\n.flyout {\r\n  left: 0;\r\n  width: 100%;\r\n  background: white;\r\n  padding-bottom: 3rem;\r\n  overflow: auto;\r\n  overscroll-behavior: contain;\r\n  visibility: hidden;\r\n\r\n  @include mixins.min(lg) {\r\n    position: absolute;\r\n    top: 100%;\r\n    max-height: calc(100vh - var(--header-height) - var(--meta-header-height) - 1px);\r\n    z-index: -1;\r\n    box-shadow: 0 0 1px 0 rgb(0 0 0 / 40%);\r\n    transform: translateY(-100%);\r\n\r\n    &.open {\r\n      box-shadow: 0 0 8px 0 rgb(0 0 0 / 40%);\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n\r\n  @include mixins.max(lg) {\r\n    position: fixed;\r\n    top: 0;\r\n    height: 100%;\r\n    z-index: 1;\r\n    transform: translateX(100%);\r\n\r\n    &.open {\r\n      transform: translateX(0);\r\n    }\r\n  }\r\n\r\n  &.open {\r\n    visibility: visible;\r\n  }\r\n\r\n  &.animate {\r\n    transition: transform 0.35s, visibility 0.35s, box-shadow 0.35s;\r\n\r\n    @media (prefers-reduced-motion: reduce) {\r\n      transition: none;\r\n    }\r\n  }\r\n}\r\n\r\n.flyout-nav {\r\n  @extend %font-curve-small;\r\n\r\n  display: flex;\r\n  justify-content: space-between;\r\n  min-height: 3.5rem;\r\n\r\n  // Change box-sizing to content-box to add 1px border width to flyout-nav hight.\r\n  // This ensures flyout-nav has same hight as main-navigation-container.\r\n  box-sizing: content-box;\r\n}\r\n\r\n.flyout-row {\r\n  display: flex;\r\n  gap: 1.5rem;\r\n\r\n  @include mixins.max(lg) {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n  }\r\n\r\n  @include mixins.max(rg) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n.flyout-column {\r\n  flex: 1;\r\n  max-width: 25%;\r\n\r\n  @include mixins.max(lg) {\r\n    max-width: none;\r\n  }\r\n\r\n  h3 {\r\n    @extend %font-curve-small;\r\n    margin-top: 0;\r\n  }\r\n}\r\n\r\n.flyout-back-button {\r\n  @include mixins.container-padding();\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: functions.px-to-rem(16px);\r\n  font-weight: 400;\r\n  cursor: pointer;\r\n\r\n  svg {\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n  }\r\n\r\n  @include mixins.min(lg) {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.flyout-close-button {\r\n  @extend %nav-link;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: auto;\r\n  padding: 0 1.5rem;\r\n  cursor: pointer;\r\n\r\n  svg {\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n  }\r\n\r\n  @include mixins.max(lg) {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.flyout-linklist {\r\n  @extend %no-list;\r\n\r\n  li {\r\n    border-top: 1px solid color.$gray-10;\r\n  }\r\n\r\n  &:first-child > li {\r\n    border-top-color: transparent;\r\n  }\r\n}\r\n\r\n.flyout-link {\r\n  @extend %nav-link;\r\n\r\n  display: block;\r\n  padding: 0.75rem 0;\r\n}\r\n\r\n.flyout-title {\r\n  @extend %font-curve-bigger-regular;\r\n\r\n  margin: 2.5rem 0 1.5rem 0;\r\n\r\n  @include mixins.min(lg) {\r\n    display: none;\r\n  }\r\n}\r\n","import { Component, Host, h, State, Method, Event, Element, EventEmitter } from '@stencil/core';\r\nimport { throttle } from 'throttle-debounce';\r\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\r\nimport { state } from '../../data/store';\r\nimport {\r\n  DropdownElement,\r\n  DropdownEvent,\r\n  HasDropdown,\r\n  IsFocusable,\r\n  NavMainEntity,\r\n} from '../../models/header.model';\r\nimport { userPrefersReducedMotion } from '../../services/ui.service';\r\nimport { SvgSprite } from '../../utils/svg-sprite.component';\r\nimport { SvgIcon } from '../../utils/svg-icon.component';\r\nimport { LevelOneAction } from './components/level-one-action.component';\r\n\r\n@Component({\r\n  tag: 'post-main-navigation',\r\n  styleUrl: 'post-main-navigation.scss',\r\n  shadow: true,\r\n})\r\nexport class PostMainNavigation implements HasDropdown, IsFocusable {\r\n  @State() activeFlyout: string | null;\r\n  @State() mobileMenuOpen: boolean;\r\n  @Event() dropdownToggled: EventEmitter<DropdownEvent>;\r\n  @Event() flyoutToggled: EventEmitter<string | null>;\r\n  @Element() host: DropdownElement;\r\n  private throttledResize: throttle<() => void>;\r\n  private resizeTimer: number | null = null;\r\n  private mouseLeaveTimer: number | null = null;\r\n  private mouseEnterTimer: number | null = null;\r\n  private flyoutElement: HTMLElement | undefined;\r\n\r\n  connectedCallback() {\r\n    this.throttledResize = throttle(300, () => this.handleResize());\r\n    window.addEventListener('resize', this.throttledResize, { passive: true });\r\n    this.setWindowHeight();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    window.removeEventListener('resize', this.throttledResize);\r\n    clearAllBodyScrollLocks();\r\n    if (this.mouseEnterTimer !== null) window.clearTimeout(this.mouseEnterTimer);\r\n    if (this.mouseLeaveTimer !== null) window.clearTimeout(this.mouseLeaveTimer);\r\n  }\r\n\r\n  handleResize() {\r\n    // Suspend all animations and transitions on window resize\r\n    this.host.classList.add('no-animation');\r\n    if (this.resizeTimer !== null) window.clearTimeout(this.resizeTimer);\r\n    this.resizeTimer = window.setTimeout(() => {\r\n      this.host.classList.remove('no-animation');\r\n    }, 300);\r\n\r\n    this.setWindowHeight();\r\n  }\r\n\r\n  // Update window height var\r\n  setWindowHeight() {\r\n    if (!this.host) {\r\n      return;\r\n    }\r\n    this.host.style.setProperty('--window-height', `${window.innerHeight}px`);\r\n\r\n    // Safari might or might not show a blank bar at the bottom where the browser\r\n    // controls should be. This timeout waits for this bar to appear before resetting the available height\r\n    window.setTimeout(() => {\r\n      this.host.style.setProperty('--window-height', `${window.innerHeight}px`);\r\n    }, 100);\r\n  }\r\n\r\n  openFlyout(id: string) {\r\n    const flyout = this.host.shadowRoot?.getElementById(id);\r\n\r\n    if (flyout && this.activeFlyout !== '') {\r\n      // Add flyout animation if there's no flyout open\r\n      this.addFlyoutAnimation(flyout);\r\n    }\r\n\r\n    this.activeFlyout = id;\r\n    this.flyoutToggled.emit(id);\r\n    this.setWindowHeight();\r\n\r\n    if (this.mouseLeaveTimer !== null) {\r\n      window.clearTimeout(this.mouseLeaveTimer);\r\n      this.mouseLeaveTimer = null;\r\n    }\r\n  }\r\n\r\n  closeFlyout(id?: string) {\r\n    if (id === undefined) return;\r\n    const flyout = this.host.shadowRoot?.getElementById(id);\r\n\r\n    if (flyout) {\r\n      // Add flyout animation for close action\r\n      this.addFlyoutAnimation(flyout);\r\n    }\r\n\r\n    this.activeFlyout = null;\r\n    this.flyoutToggled.emit();\r\n  }\r\n\r\n  addFlyoutAnimation(flyout: HTMLElement) {\r\n    // Check if user prefers to see animations or not\r\n    if (!userPrefersReducedMotion()) {\r\n      flyout.classList.add('animate');\r\n\r\n      // Remove flyout animation after transition ended\r\n      flyout.addEventListener('transitionend', () => this.removeFlyoutAnimation(flyout), {\r\n        once: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  removeFlyoutAnimation(flyout: HTMLElement) {\r\n    flyout.classList.remove('animate');\r\n  }\r\n\r\n  isActiveFlyout(id?: string) {\r\n    return id === this.activeFlyout;\r\n  }\r\n\r\n  handleMouseEnter(level: NavMainEntity) {\r\n    // Cancel opening the flyout if there already is one scheduled to open\r\n    if (this.mouseEnterTimer !== null) {\r\n      window.clearTimeout(this.mouseEnterTimer);\r\n      this.mouseEnterTimer = null;\r\n    }\r\n\r\n    // Cancel closing if we enter again\r\n    if (this.mouseLeaveTimer && this.activeFlyout === level.id) {\r\n      window.clearTimeout(this.mouseLeaveTimer);\r\n      this.mouseLeaveTimer = null;\r\n    }\r\n\r\n    if (window.innerWidth >= 1024 && level.flyout.length > 0 && this.activeFlyout !== level.id) {\r\n      // Delay opening the flyout for a moment to give users a chance to move the mouse over the navigation without triggering the flyout\r\n      this.mouseEnterTimer = window.setTimeout(() => {\r\n        this.mouseEnterTimer = null;\r\n        if (level.id !== undefined) this.openFlyout(level.id);\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  handleMouseLeave(level: NavMainEntity) {\r\n    // Cancel opening the flyout if a mouseleave event happens before the flyout opened\r\n    if (this.mouseEnterTimer !== null) {\r\n      window.clearTimeout(this.mouseEnterTimer);\r\n    }\r\n\r\n    // Don't close an open flyout if the mouseleave is from another mainnav entry\r\n    if (this.activeFlyout && this.activeFlyout !== level.id) {\r\n      return;\r\n    }\r\n\r\n    if (window.innerWidth >= 1024 && level.flyout.length > 0) {\r\n      // Allow the pointer to shortly leave the flyout without closing it. This\r\n      // allows for user mistakes and makes the experience less nervous\r\n      this.mouseLeaveTimer = window.setTimeout(() => {\r\n        this.closeFlyout(level.id);\r\n      }, 300);\r\n    }\r\n  }\r\n\r\n  handleTouchEnd(event: TouchEvent, level: NavMainEntity) {\r\n    if (!this.isActiveFlyout(level.id) && !level.noFlyout) {\r\n      // It's the first touchstart and has a flyout, prevent link activation and open the flyout\r\n      if (event.cancelable) event.preventDefault();\r\n      if (level.id) this.openFlyout(level.id);\r\n    }\r\n  }\r\n\r\n  handleKeyPress(event: KeyboardEvent, level: NavMainEntity) {\r\n    if (event.key === 'Enter' && !this.isActiveFlyout(level.id) && !level.noFlyout) {\r\n      // It's the first enter keypress and has a flyout, prevent link activation and open the flyout\r\n      event.preventDefault();\r\n      if (level.id) this.openFlyout(level.id);\r\n    }\r\n  }\r\n\r\n  handleClick(event: MouseEvent, level: NavMainEntity) {\r\n    if (!this.isActiveFlyout(level.id) && !level.noFlyout) {\r\n      // It's the first click, always open the flyout, never the link\r\n      // This is relevant for desktop with active screenreader which\r\n      // translates an enter keypress to a click\r\n      event.preventDefault();\r\n      if (level.id) this.openFlyout(level.id);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Disable or re-enable body scrolling, depending on whether mobile menu is open or closed\r\n   */\r\n  setBodyScroll() {\r\n    if (this.mobileMenuOpen) {\r\n      disableBodyScroll(this.flyoutElement);\r\n    } else {\r\n      enableBodyScroll(this.flyoutElement);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle the main navigation (only visible on mobile)\r\n   * @param force Force a state\r\n   * @returns Boolean indicating new state\r\n   */\r\n  @Method()\r\n  async toggleDropdown(force?: boolean) {\r\n    this.mobileMenuOpen = force === undefined ? !this.mobileMenuOpen : force;\r\n    this.dropdownToggled.emit({ open: this.mobileMenuOpen, element: this.host });\r\n\r\n    if (force === false) {\r\n      this.closeFlyout();\r\n    }\r\n\r\n    this.setBodyScroll();\r\n    this.setWindowHeight();\r\n\r\n    return this.mobileMenuOpen;\r\n  }\r\n\r\n  /**\r\n   * Focus the main navigation toggle button\r\n   */\r\n  @Method()\r\n  async setFocus() {\r\n    const firstLink = this.host.shadowRoot?.querySelector<HTMLElement>('.main-link');\r\n    if (firstLink) {\r\n      firstLink.focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Open a specific flyout\r\n   * @param id Flyout ID\r\n   */\r\n  @Method()\r\n  async setActiveFlyout(id: string | null) {\r\n    this.activeFlyout = id;\r\n    this.flyoutToggled.emit(this.activeFlyout);\r\n  }\r\n\r\n  render() {\r\n    if (state.localizedConfig?.header === undefined) return;\r\n    const headerConfig = state.localizedConfig.header;\r\n\r\n    return (\r\n      <Host>\r\n        <SvgSprite />\r\n        <nav\r\n          id=\"post-internet-header-main-navigation\"\r\n          class={{ 'main-navigation': true, 'open': this.mobileMenuOpen }}\r\n          ref={el => (this.flyoutElement = el)}\r\n        >\r\n          <h1 class=\"visually-hidden\">{headerConfig.translations.navMainAriaLabel}</h1>\r\n          <ul class=\"main-container container\">\r\n            {headerConfig.navMain.map(levelOne => (\r\n              <li\r\n                key={levelOne.text}\r\n                onMouseLeave={() => this.handleMouseLeave(levelOne)}\r\n                onMouseEnter={() => this.handleMouseEnter(levelOne)}\r\n              >\r\n                <LevelOneAction\r\n                  level={levelOne}\r\n                  isOpen={this.isActiveFlyout(levelOne.id)}\r\n                  onTouchEnd={e => this.handleTouchEnd(e, levelOne)}\r\n                  onKeyDown={e => this.handleKeyPress(e, levelOne)}\r\n                  onClick={e => this.handleClick(e, levelOne)}\r\n                />\r\n                {!levelOne.noFlyout ? (\r\n                  <div\r\n                    id={levelOne.id}\r\n                    class={{ flyout: true, open: this.isActiveFlyout(levelOne.id) }}\r\n                  >\r\n                    <div class=\"wide-container\">\r\n                      <div class=\"flyout-nav\">\r\n                        <button\r\n                          class=\"nav-link flyout-back-button\"\r\n                          onClick={() => this.closeFlyout(levelOne.id)}\r\n                        >\r\n                          <SvgIcon name=\"pi-pointy-arrow-right\" classNames=\"mirrored\" />\r\n                          <span>{headerConfig.translations.backButtonText}</span>\r\n                        </button>\r\n                        <button\r\n                          class=\"flyout-close-button\"\r\n                          onClick={() => this.closeFlyout(levelOne.id)}\r\n                        >\r\n                          <span class=\"visually-hidden\">\r\n                            {headerConfig.translations.mobileNavToggleClose}\r\n                          </span>\r\n                          <SvgIcon name=\"pi-close\" />\r\n                        </button>\r\n                      </div>\r\n                      <h2 class=\"flyout-title container\">\r\n                        <a href={levelOne.url} class=\"nav-link\">\r\n                          {levelOne.text}\r\n                        </a>\r\n                      </h2>\r\n                      <div class=\"flyout-row container\">\r\n                        {levelOne.flyout.map(flyout => (\r\n                          <div key={flyout.title} class=\"flyout-column\">\r\n                            {flyout.title ? <h3>{flyout.title}</h3> : null}\r\n                            <ul class=\"flyout-linklist\">\r\n                              {flyout.linkList.map(link => (\r\n                                <li key={link.url}>\r\n                                  <a\r\n                                    class={{\r\n                                      'flyout-link': true,\r\n                                      'active': !!link?.isActiveOverride,\r\n                                    }}\r\n                                    href={link.url}\r\n                                    target={link.target}\r\n                                  >\r\n                                    {link.title}\r\n                                  </a>\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : null}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <slot></slot>\r\n        </nav>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}