{"version":3,"file":"post-footer-block-contact.component.js","sourceRoot":"","sources":["../../../../../src/components/post-internet-footer/components/post-footer-block-contact.component.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,CAAC,EAAE,MAAM,eAAe,CAAC;AAGlC,MAAM,eAAe,GAAG,CAAC,KAAa,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;AAE3E,MAAM,SAAS,GAAG,GAAG,EAAE;EACrB,IAAI,OAAO,MAAM,CAAC,aAAa,CAAC,KAAK,UAAU,EAAE;IAC/C,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;GACzB;OAAM;IACL,OAAO,CAAC,KAAK,CACX,qLAAqL,CACtL,CAAC;GACH;AACH,CAAC,CAAC;AAEF,MAAM,WAAW,GAAG,CAAC,KAAwB,EAAE,EAAE,CAAC,CAChD,cACE,KAAK,EAAC,oBAAoB,EAC1B,EAAE,EAAC,aAAa,EAChB,IAAI,EAAC,QAAQ,EACb,OAAO,EAAE,SAAS,EAClB,SAAS,EAAE,eAAe,CAAC,KAAK,CAAC,KAAK,CAAC,GAC/B,CACX,CAAC;AAEF,MAAM,CAAC,MAAM,sBAAsB,GAAG,CAAC,KAItC,EAAE,EAAE;EACH,OAAO,CACL,WAAK,KAAK,EAAC,eAAe;IACxB,cAAK,KAAK,CAAC,KAAK,CAAC,KAAK,CAAM;IAC3B,KAAK,CAAC,KAAK,CAAC,OAAO;MAClB,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;QACzC,MAAM,aAAa,GACjB,KAAK,KAAK,KAAK,CAAC,KAAK,CAAC,OAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,CAAC,IAAI,KAAK,cAAc,CAAC;QAC/E,IAAI,aAAa,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE;UAC9C,OAAO,IAAI,CAAC;SACb;QACD,OAAO,CACL,WAAK,KAAK,EAAC,aAAa,EAAC,GAAG,EAAE,OAAO,CAAC,IAAI;UACvC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,SAAG,KAAK,EAAC,QAAQ,IAAE,OAAO,CAAC,MAAM,CAAK,CAAC,CAAC,CAAC,IAAI;UAC9D,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,SAAG,KAAK,EAAC,MAAM,IAAE,OAAO,CAAC,IAAI,CAAK,CAAC,CAAC,CAAC,IAAI;UACxD,OAAO,CAAC,KAAK,IAAI,aAAa,IAAI,EAAC,WAAW,IAAC,KAAK,EAAE,OAAO,CAAC,KAAK,GAAI;UACvE,OAAO,CAAC,KAAK,IAAI,CAAC,aAAa,IAAI;UAClC,sKAAsK;UACtK,SAAG,KAAK,EAAC,OAAO,EAAC,SAAS,EAAE,eAAe,CAAC,OAAO,CAAC,KAAK,CAAC,GAAM,CACjE;UACA,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAG,KAAK,EAAC,UAAU,IAAE,OAAO,CAAC,QAAQ,CAAK,CAAC,CAAC,CAAC,IAAI,CACjE,CACP,CAAC;MACJ,CAAC,CAAC,CACA,CACP,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { h } from '@stencil/core';\r\nimport { BlockEntity } from '../../../models/footer.model';\r\n\r\nconst getContentHours = (hours: string) => hours.replace(/<[^>]*>?/gm, '');\r\n\r\nconst callUnblu = () => {\r\n  if (typeof window['unbluLSLoad'] === 'function') {\r\n    window['unbluLSLoad']();\r\n  } else {\r\n    console.error(\r\n      'swisspost-internet-footer: The function \"unbluLSLoad\" could not be called because it is not available in the global scope. Did you include the unblu live chat script on your page?',\r\n    );\r\n  }\r\n};\r\n\r\nconst LiveSupport = (props: { hours: string }) => (\r\n  <button\r\n    class=\"hours btn btn-link\"\r\n    id=\"liveSupport\"\r\n    type=\"button\"\r\n    onClick={callUnblu}\r\n    innerHTML={getContentHours(props.hours)}\r\n  ></button>\r\n);\r\n\r\nexport const PostFooterBlockContact = (props: {\r\n  block: BlockEntity;\r\n  liveSupportEnabled: boolean;\r\n  key: string;\r\n}) => {\r\n  return (\r\n    <div class=\"block-contact\">\r\n      <h3>{props.block.title}</h3>\r\n      {props.block.content &&\r\n        props.block.content.map((content, index) => {\r\n          const isLiveSupport =\r\n            index === props.block.content!.length - 1 && content.text === 'Live Support';\r\n          if (isLiveSupport && !props.liveSupportEnabled) {\r\n            return null;\r\n          }\r\n          return (\r\n            <div class=\"content-row\" key={content.name}>\r\n              {content.number ? <p class=\"number\">{content.number}</p> : null}\r\n              {content.text ? <p class=\"text\">{content.text}</p> : null}\r\n              {content.hours && isLiveSupport && <LiveSupport hours={content.hours} />}\r\n              {content.hours && !isLiveSupport && (\r\n                // Some values arrive in the form of <p>8&emdash;12</p> and without replace and innerHTML, tags get rendered as text (project=\"klp\" language=\"en\" environment=\"int02\")\r\n                <p class=\"hours\" innerHTML={getContentHours(content.hours)}></p>\r\n              )}\r\n              {content.describe ? <p class=\"describe\">{content.describe}</p> : null}\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n"]}