{"version":3,"file":"post-skiplinks.js","sourceRoot":"","sources":["../../../../src/components/post-skiplinks/post-skiplinks.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,OAAO,EAAE,MAAM,eAAe,CAAC;AAC5D,OAAO,EAAE,KAAK,EAAE,MAAM,kBAAkB,CAAC;AAEzC,OAAO,EAAE,SAAS,EAAE,MAAM,iCAAiC,CAAC;AAC5D,OAAO,EAAE,OAAO,EAAE,MAAM,gCAAgC,CAAC;AAOzD,MAAM,OAAO,aAAa;EAGhB,SAAS;;IACf,OAAO,MAAA,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,0CAAE,YAAY,CAAC,IAAI,CAAC,CAAC;EAChE,CAAC;EAEO,QAAQ,CAAC,OAAe;IAC9B,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;IAC5D,IAAI,CAAC,QAAQ,EAAE;MACb,OAAO;KACR;IAED,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAmB,OAAO,CAAC,CAAC;IACpE,IAAI,SAAS,EAAE;MACb,SAAS,CAAC,QAAQ,EAAE,CAAC;KACtB;EACH,CAAC;EAEO,SAAS;IACf,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC;EACxC,CAAC;EAEO,WAAW;IACjB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;EAC/B,CAAC;EAEO,UAAU;IAChB,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;EACzC,CAAC;EAED,MAAM;;IACJ,MAAM,MAAM,GAAG,MAAA,KAAK,CAAC,eAAe,0CAAE,MAAM,CAAC;IAC7C,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;IAEhC,IAAI,MAAM,KAAK,SAAS,EAAE;MACxB,OAAO;KACR;IAED,OAAO,CACL,EAAC,IAAI;MACH,WAAK,KAAK,EAAC,WAAW;QACpB,UAAI,KAAK,EAAC,iBAAiB,IAAE,SAAS,CAAC,qBAAqB,CAAC,CAAM;QACnE,UAAI,KAAK,EAAC,SAAS;UACjB;YACE,SAAG,KAAK,EAAC,UAAU,EAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAC,GAAG,EAAC,KAAK,EAAC,WAAW;cAC7E,gBAAO,MAAM,CAAC,IAAI,CAAC,aAAa,CAAQ;cACxC,EAAC,OAAO,IAAC,IAAI,EAAC,uBAAuB,GAAG,CACtC,CACD;UACL;YACE,SACE,KAAK,EAAC,UAAU,EAChB,IAAI,EAAC,uCAAuC,EAC5C,SAAS,EAAC,GAAG,EACb,KAAK,EAAC,WAAW,EACjB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE;cAE/B,gBAAO,MAAM,CAAC,YAAY,CAAC,gBAAgB,CAAQ;cACnD,EAAC,OAAO,IAAC,IAAI,EAAC,uBAAuB,GAAG,CACtC,CACD;UACJ,MAAM,CAAC,CAAC,CAAC,CACR;YACE,SAAG,KAAK,EAAC,UAAU,EAAC,IAAI,EAAE,IAAI,MAAM,EAAE,EAAE,SAAS,EAAC,GAAG,EAAC,KAAK,EAAC,WAAW;cACrE,gBAAO,SAAS,CAAC,oBAAoB,CAAC,CAAQ;cAC9C,EAAC,OAAO,IAAC,IAAI,EAAC,uBAAuB,GAAG,CACtC,CACD,CACN,CAAC,CAAC,CAAC,IAAI;UACP,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CACd;YACE,SACE,KAAK,EAAC,UAAU,EAChB,IAAI,EAAC,qCAAqC,EAC1C,SAAS,EAAC,GAAG,EACb,KAAK,EAAC,WAAW,EACjB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE;cAEjC,gBAAO,SAAS,CAAC,cAAc,CAAC,CAAQ;cACxC,EAAC,OAAO,IAAC,IAAI,EAAC,uBAAuB,GAAG,CACtC,CACD,CACN,CAAC,CAAC,CAAC,IAAI;UACP,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CACb;YACE,SACE,KAAK,EAAC,UAAU,EAChB,IAAI,EAAC,wBAAwB,EAC7B,SAAS,EAAC,GAAG,EACb,KAAK,EAAC,WAAW,EACjB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE;cAEhC,gBAAO,SAAS,CAAC,aAAa,CAAC,CAAQ;cACvC,EAAC,OAAO,IAAC,IAAI,EAAC,uBAAuB,GAAG,CACtC,CACD,CACN,CAAC,CAAC,CAAC,IAAI,CACL,CACD,CACD,CACR,CAAC;EACJ,CAAC;;;;;;;;;CACF","sourcesContent":["import { Component, Host, h, Element } from '@stencil/core';\r\nimport { state } from '../../data/store';\r\nimport { FocusableElement } from '../../models/header.model';\r\nimport { translate } from '../../services/language.service';\r\nimport { SvgIcon } from '../../utils/svg-icon.component';\r\n\r\n@Component({\r\n  tag: 'post-skiplinks',\r\n  styleUrl: 'post-skiplinks.scss',\r\n  shadow: false,\r\n})\r\nexport class PostSkiplinks {\r\n  @Element() host: HTMLElement;\r\n\r\n  private getMainId() {\r\n    return document.querySelector('main[id]')?.getAttribute('id');\r\n  }\r\n\r\n  private setFocus(tagname: string) {\r\n    const rootHost = this.host.closest('.post-internet-header');\r\n    if (!rootHost) {\r\n      return;\r\n    }\r\n\r\n    const focusable = rootHost.querySelector<FocusableElement>(tagname);\r\n    if (focusable) {\r\n      focusable.setFocus();\r\n    }\r\n  }\r\n\r\n  private focusMain() {\r\n    this.setFocus('post-main-navigation');\r\n  }\r\n\r\n  private focusSearch() {\r\n    this.setFocus('post-search');\r\n  }\r\n\r\n  private focusLogin() {\r\n    this.setFocus('post-klp-login-widget');\r\n  }\r\n\r\n  render() {\r\n    const config = state.localizedConfig?.header;\r\n    const mainId = this.getMainId();\r\n\r\n    if (config === undefined) {\r\n      return;\r\n    }\r\n\r\n    return (\r\n      <Host>\r\n        <div class=\"skiplinks\">\r\n          <h1 class=\"visually-hidden\">{translate('Navigate on post.ch')}</h1>\r\n          <ul class=\"no-list\">\r\n            <li>\r\n              <a class=\"nav-link\" href={config.logo.logoLink} accessKey=\"0\" title=\"[ALT + 0]\">\r\n                <span>{config.logo.logoLinkTitle}</span>\r\n                <SvgIcon name=\"pi-pointy-arrow-right\" />\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                class=\"nav-link\"\r\n                href=\"#post-internet-header-main-navigation\"\r\n                accessKey=\"1\"\r\n                title=\"[ALT + 1]\"\r\n                onClick={() => this.focusMain()}\r\n              >\r\n                <span>{config.translations.navMainAriaLabel}</span>\r\n                <SvgIcon name=\"pi-pointy-arrow-right\" />\r\n              </a>\r\n            </li>\r\n            {mainId ? (\r\n              <li>\r\n                <a class=\"nav-link\" href={`#${mainId}`} accessKey=\"2\" title=\"[ALT + 2]\">\r\n                  <span>{translate('Go to main content')}</span>\r\n                  <SvgIcon name=\"pi-pointy-arrow-right\" />\r\n                </a>\r\n              </li>\r\n            ) : null}\r\n            {state.search ? (\r\n              <li>\r\n                <a\r\n                  class=\"nav-link\"\r\n                  href=\"#post-internet-header-search-button\"\r\n                  accessKey=\"3\"\r\n                  title=\"[ALT + 3]\"\r\n                  onClick={() => this.focusSearch()}\r\n                >\r\n                  <span>{translate('Go to search')}</span>\r\n                  <SvgIcon name=\"pi-pointy-arrow-right\" />\r\n                </a>\r\n              </li>\r\n            ) : null}\r\n            {state.login ? (\r\n              <li>\r\n                <a\r\n                  class=\"nav-link\"\r\n                  href=\"#post-klp-login-widget\"\r\n                  accessKey=\"4\"\r\n                  title=\"[ALT + 4]\"\r\n                  onClick={() => this.focusLogin()}\r\n                >\r\n                  <span>{translate('Go to login')}</span>\r\n                  <SvgIcon name=\"pi-pointy-arrow-right\" />\r\n                </a>\r\n              </li>\r\n            ) : null}\r\n          </ul>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}