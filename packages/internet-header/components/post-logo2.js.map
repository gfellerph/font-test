{"file":"post-logo2.js","mappings":"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","names":[],"sources":["./src/components/post-logo/logo-sprite.component.tsx","./src/components/post-logo/post-logo.scss?tag=post-logo&encapsulation=shadow","./src/components/post-logo/post-logo.tsx"],"sourcesContent":["import { h } from '@stencil/core';\r\n\r\nexport const LogoSprite = () => (\r\n  <svg aria-hidden=\"true\" style={{ display: 'none' }}>\r\n    <symbol id=\"favicon\" viewBox=\"0 0 48 48\">\r\n      <g clip-path=\"url(#a)\">\r\n        <path fill=\"#FC0\" d=\"M47.2 0H0v47.2h47.2V0Z\" />\r\n        <path\r\n          fill=\"#fff\"\r\n          fill-rule=\"evenodd\"\r\n          d=\"m18.68 35.91 1.48-7.02H6.42l-1.47 7.02h13.73Z\"\r\n          clip-rule=\"evenodd\"\r\n        />\r\n        <path\r\n          fill=\"#000\"\r\n          fill-rule=\"evenodd\"\r\n          d=\"M16.96 16.56c-.47-.07-.94-.1-1.42-.1H11.6L8.5 31.1h3.1l.95-4.47h1.8c.74.02 1.48-.07 2.18-.27a5.8 5.8 0 0 0 4-4.59c.49-2.73-.87-4.76-3.57-5.2Zm.47 5.06a2.63 2.63 0 0 1-2.06 2.22c-.33.06-.66.1-1 .1h-1.25l1-4.78h1.36c.31-.01.62.03.92.11.77.26 1.24 1.03 1.03 2.35\"\r\n          clip-rule=\"evenodd\"\r\n        />\r\n        <path\r\n          fill=\"red\"\r\n          fill-rule=\"evenodd\"\r\n          d=\"m34.5 16.43 1.86-8.84H24.63l-2.45 11.58h2.9l1.87-8.84h5.93L31 19.17h8.8l-1.17 5.53h-8.75l-1.75 8.28H21.5l-.57 2.78h9.54l1.75-8.3h8.72l2.34-11.03H34.5Z\"\r\n          clip-rule=\"evenodd\"\r\n        />\r\n      </g>\r\n      <defs>\r\n        <clipPath id=\"a\">\r\n          <path fill=\"#fff\" d=\"M0 0h47.2v47.2H0z\" />\r\n        </clipPath>\r\n      </defs>\r\n    </symbol>\r\n  </svg>\r\n);\r\n\r\nexport const FaviconSvg = (props: { className?: string }) => (\r\n  <svg viewBox=\"0 0 48 48\" class={props.className} aria-hidden=\"true\">\r\n    <use href=\"#favicon\" />\r\n  </svg>\r\n);\r\n","@use \"@swisspost/design-system-styles/variables/color\";\r\n@use \"../../utils/utils.scss\";\r\n@use \"../../utils/mixins.scss\";\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.logo {\r\n  display: block;\r\n  align-items: center;\r\n  background: color.$yellow;\r\n\r\n}\r\n\r\nsvg,\r\n.logo-svg {\r\n  display: block;\r\n  height: var(--header-height);\r\n}\r\n\r\n.square-logo {\r\n  display: block;\r\n\r\n  @include mixins.min(sm) {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.full-logo {\r\n  display: none;\r\n\r\n  @include mixins.min(sm) {\r\n    display: block;\r\n  }\r\n}\r\n","import { Component, Host, h, State, Element } from '@stencil/core';\r\nimport { throttle } from 'throttle-debounce';\r\nimport { state } from '../../data/store';\r\nimport { LogoSprite, FaviconSvg } from './logo-sprite.component';\r\n\r\n@Component({\r\n  tag: 'post-logo',\r\n  styleUrl: 'post-logo.scss',\r\n  shadow: true,\r\n})\r\nexport class PostLogo {\r\n  @State() showFaviconLogo: boolean;\r\n  @Element() host: HTMLPostLogoElement;\r\n  private throttledResize: throttle<() => void>;\r\n  private resizeObserver: ResizeObserver;\r\n\r\n  constructor() {\r\n    // Register window resize event listener and a resize observer on the mainnav controls (they change size while controls are being loaded) to display an accurately sized logo\r\n    this.throttledResize = throttle(300, () => this.handleResize());\r\n    window.addEventListener('resize', this.throttledResize, { passive: true });\r\n    this.resizeObserver = new ResizeObserver(this.handleResize.bind(this));\r\n\r\n    // Initially call the resize handler\r\n    this.handleResize();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    const mainNavControls = this.host.parentElement?.querySelector('.main-navigation-controls');\r\n    if (mainNavControls) {\r\n      this.resizeObserver.observe(mainNavControls);\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    window.removeEventListener('resize', this.throttledResize);\r\n    this.resizeObserver.disconnect();\r\n  }\r\n\r\n  handleResize() {\r\n    const mainNavControls = this.host.parentElement?.querySelector('.main-navigation-controls');\r\n    const menuButton = this.host.parentElement?.querySelector('.menu-button');\r\n    if (mainNavControls && menuButton)\r\n      this.showFaviconLogo =\r\n        window.innerWidth - (150 + mainNavControls.clientWidth + menuButton.clientWidth) <= 0;\r\n  }\r\n\r\n  render() {\r\n    if (state.localizedConfig?.header.logo === undefined) return;\r\n    const config = state.localizedConfig.header.logo;\r\n\r\n    return (\r\n      <Host>\r\n        <LogoSprite />\r\n        <a href={config.logoLink} class=\"logo\">\r\n          <span class=\"visually-hidden\">{config.logoLinkTitle}</span>\r\n          <FaviconSvg className=\"square-logo\" />\r\n          <img class=\"logo-svg full-logo\" src={config.logoSvg} alt={config.logoText} />\r\n        </a>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}