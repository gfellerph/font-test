{"file":"swisspost-internet-footer.entry.cjs.js","mappings":"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","names":["h","index","state","Host","SvgSprite"],"sources":["./src/components/post-internet-footer/components/post-footer-block-custom.component.tsx","./src/components/post-internet-footer/components/post-footer-block-list.component.tsx","./src/components/post-internet-footer/components/post-footer-block-socials.component.tsx","./src/components/post-internet-footer/components/post-footer-block-address.component.tsx","./src/components/post-internet-footer/components/post-footer-block-contact.component.tsx","./src/components/post-internet-footer/post-internet-footer.scss?tag=swisspost-internet-footer&encapsulation=shadow","./src/components/post-internet-footer/post-internet-footer.tsx"],"sourcesContent":["import { h } from '@stencil/core';\r\nimport { CustomBlockEntity } from '../../../models/footer.model';\r\n\r\nexport const PostFooterBlockCustom = (props: { block: CustomBlockEntity }) => {\r\n  return (\r\n    <div class=\"pre-footer\">\r\n      <div class=\"block-custom container\">\r\n        <h3>{props.block.title}</h3>\r\n        <ul class=\"no-list box link-list\">\r\n          {props.block.links &&\r\n            props.block.links.map(link => (\r\n              <li key={link.url}>\r\n                <a class=\"flyout-link\" href={link.url} target={link.target}>\r\n                  {link.text}\r\n                </a>\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { h } from '@stencil/core';\r\nimport { CustomBlockEntity } from '../../../models/footer.model';\r\n\r\nexport const PostFooterBlockList = (props: { block: CustomBlockEntity; key: string }) => {\r\n  return (\r\n    <div class=\"block-list\">\r\n      <h3>{props.block.title}</h3>\r\n      <ul class=\"no-list box link-list\">\r\n        {props.block.links &&\r\n          props.block.links.map(link => (\r\n            <li key={link.url}>\r\n              <a class=\"flyout-link\" href={link.url} target={link.target}>\r\n                {link.text}\r\n              </a>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import { h } from '@stencil/core';\r\nimport { ContentEntity } from '../../../models/footer.model';\r\n\r\nexport const PostFooterBlockSocials = (props: { content: ContentEntity; key: string }) => {\r\n  return (\r\n    <div class=\"block-socials\">\r\n      <h3>{props.content.title}</h3>\r\n      <ul class=\"no-list socials\">\r\n        {props.content.links.map(link => (\r\n          <li key={link.url}>\r\n            <a href={link.url} target={link.target}>\r\n              <span class=\"visually-hidden\">{link.name}</span>\r\n              <svg aria-hidden=\"true\">\r\n                <use href={`#${link.icon}`} />\r\n              </svg>\r\n            </a>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import { h } from '@stencil/core';\r\nimport { BlockEntity } from '../../../models/footer.model';\r\nimport { PostFooterBlockSocials } from './post-footer-block-socials.component';\r\n\r\nexport const PostFooterBlockAddress = (props: { block: BlockEntity; key: string }) => {\r\n  return (\r\n    <div class=\"block-address\">\r\n      <h3>{props.block.title}</h3>\r\n      {props.block.content &&\r\n        props.block.content\r\n          .filter(content => content.address)\r\n          .map(content => (\r\n            <address class=\"vcard\" key={content.address}>\r\n              <span class=\"adr\" innerHTML={content.address}></span>\r\n            </address>\r\n          ))}\r\n      {props.block.content &&\r\n        props.block.content\r\n          .filter(content => content.links && content.links.length)\r\n          .map(content => <PostFooterBlockSocials key={content.name} content={content} />)}\r\n    </div>\r\n  );\r\n};\r\n","import { h } from '@stencil/core';\r\nimport { BlockEntity } from '../../../models/footer.model';\r\n\r\nconst getContentHours = (hours: string) => hours.replace(/<[^>]*>?/gm, '');\r\n\r\nconst callUnblu = () => {\r\n  if (typeof window['unbluLSLoad'] === 'function') {\r\n    window['unbluLSLoad']();\r\n  } else {\r\n    console.error(\r\n      'swisspost-internet-footer: The function \"unbluLSLoad\" could not be called because it is not available in the global scope. Did you include the unblu live chat script on your page?',\r\n    );\r\n  }\r\n};\r\n\r\nconst LiveSupport = (props: { hours: string }) => (\r\n  <button\r\n    class=\"hours btn btn-link\"\r\n    id=\"liveSupport\"\r\n    type=\"button\"\r\n    onClick={callUnblu}\r\n    innerHTML={getContentHours(props.hours)}\r\n  ></button>\r\n);\r\n\r\nexport const PostFooterBlockContact = (props: {\r\n  block: BlockEntity;\r\n  liveSupportEnabled: boolean;\r\n  key: string;\r\n}) => {\r\n  return (\r\n    <div class=\"block-contact\">\r\n      <h3>{props.block.title}</h3>\r\n      {props.block.content &&\r\n        props.block.content.map((content, index) => {\r\n          const isLiveSupport =\r\n            index === props.block.content!.length - 1 && content.text === 'Live Support';\r\n          if (isLiveSupport && !props.liveSupportEnabled) {\r\n            return null;\r\n          }\r\n          return (\r\n            <div class=\"content-row\" key={content.name}>\r\n              {content.number ? <p class=\"number\">{content.number}</p> : null}\r\n              {content.text ? <p class=\"text\">{content.text}</p> : null}\r\n              {content.hours && isLiveSupport && <LiveSupport hours={content.hours} />}\r\n              {content.hours && !isLiveSupport && (\r\n                // Some values arrive in the form of <p>8&emdash;12</p> and without replace and innerHTML, tags get rendered as text (project=\"klp\" language=\"en\" environment=\"int02\")\r\n                <p class=\"hours\" innerHTML={getContentHours(content.hours)}></p>\r\n              )}\r\n              {content.describe ? <p class=\"describe\">{content.describe}</p> : null}\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n","@use \"@swisspost/design-system-styles/components/grid\";\r\n@use \"@swisspost/design-system-styles/variables/color\";\r\n@use \"@swisspost/design-system-styles/placeholders/text\";\r\n@use \"@swisspost/design-system-styles/functions\";\r\n@use \"@swisspost/design-system-styles/components/button\";\r\n@use \"../../utils/utils.scss\";\r\n@use \"../../utils/mixins.scss\";\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\nh3 {\r\n  font-size: inherit;\r\n  margin-top: 0;\r\n}\r\n\r\n.btn.btn-link {\r\n  padding-left: 0;\r\n  padding-right: 0;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.post-internet-footer {\r\n  font-size: 1rem;\r\n  font-weight: 300;\r\n  border-top: 2px solid color.$gray-10;\r\n}\r\n\r\n.pre-footer {\r\n  padding-top: 2rem;\r\n  padding-bottom: 2rem;\r\n  border-bottom: 2px solid color.$gray-10;\r\n\r\n  .block-custom,\r\n  .link-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 1rem 1.5rem;\r\n  }\r\n\r\n  h3,\r\n  .link-list li {\r\n    margin: 0;\r\n  }\r\n}\r\n\r\n.footer-container {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr 1fr;\r\n  gap: 3.5rem 2rem;\r\n  margin-top: 3.5rem;\r\n  margin-bottom: 3.5rem;\r\n\r\n  @include mixins.max(lg) {\r\n    grid-template-columns: 1fr 1fr;\r\n  }\r\n\r\n  @include mixins.max(rg) {\r\n    gap: 1.5rem 2rem;\r\n    margin-top: 1.5rem;\r\n    margin-bottom: 1.5rem;\r\n  }\r\n}\r\n\r\n.block-list {\r\n  @include mixins.max(sm) {\r\n    grid-column: 1 / 3;\r\n  }\r\n}\r\n\r\n.block-contact,\r\n.block-address {\r\n  @include mixins.max(rg) {\r\n    grid-column: 1 / 3;\r\n  }\r\n}\r\n\r\n.block-socials {\r\n  margin-top: 3.5rem;\r\n\r\n  @include mixins.max(rg) {\r\n    margin-top: 1.5rem;\r\n  }\r\n}\r\n\r\naddress {\r\n  font-style: normal;\r\n}\r\n\r\n.link-list {\r\n  li {\r\n    margin: 1rem 0;\r\n  }\r\n  a {\r\n    display: block;\r\n    text-decoration: none;\r\n    color: color.$gray-60;\r\n    transition: color 200ms;\r\n\r\n    &:hover {\r\n      color: black;\r\n    }\r\n  }\r\n}\r\n\r\n.content-row {\r\n  padding: 0.5rem 0;\r\n\r\n  h3 + & {\r\n    padding-top: 0;\r\n  }\r\n\r\n  &:last-child {\r\n    padding-bottom: 0;\r\n  }\r\n\r\n  & + & {\r\n    border-top: 1px solid color.$gray-10;\r\n  }\r\n\r\n  p,\r\n  button {\r\n    margin: 0.25rem;\r\n  }\r\n}\r\n\r\n.text {\r\n  font-weight: 700;\r\n}\r\n\r\n.describe {\r\n  font-size: 0.8125rem;\r\n  color: color.$gray-60;\r\n  font-weight: 400;\r\n}\r\n\r\n.number {\r\n  font-size: 1.25rem;\r\n}\r\n\r\n.socials {\r\n  display: inline-grid;\r\n  grid-auto-flow: row;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 1rem 1.5rem;\r\n\r\n  a {\r\n    display: block;\r\n    color: color.$gray-60;\r\n    transition: color 200ms;\r\n\r\n    &:hover,\r\n    &:focus {\r\n      color: black;\r\n    }\r\n  }\r\n\r\n  svg {\r\n    display: block;\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n  }\r\n}\r\n\r\n.copyright {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem 1.5rem;\r\n  margin-top: 2rem;\r\n  margin-bottom: 2rem;\r\n  font-size: functions.px-to-rem(12px);\r\n}\r\n\r\n.footer-meta-links {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n  font-weight: 400;\r\n}\r\n","import { Component, Host, h, State } from '@stencil/core';\r\nimport { state } from '../../data/store';\r\nimport { SvgSprite } from '../../utils/svg-sprite.component';\r\nimport { PostFooterBlockCustom } from './components/post-footer-block-custom.component';\r\nimport { PostFooterBlockList } from './components/post-footer-block-list.component';\r\nimport { PostFooterBlockAddress } from './components/post-footer-block-address.component';\r\nimport { PostFooterBlockContact } from './components/post-footer-block-contact.component';\r\n\r\n@Component({\r\n  tag: 'swisspost-internet-footer',\r\n  styleUrl: 'post-internet-footer.scss',\r\n  shadow: true,\r\n})\r\nexport class PostInternetFooter {\r\n  @State() liveSupportEnabled = false;\r\n\r\n  constructor() {\r\n    this.liveSupportEnabled = this.unbluEnabled();\r\n\r\n    /**\r\n     * If the unblu script is not available, wait 5 seconds for it to load.\r\n     * If it's still not there after 5 seconds, abandon efforts and don't\r\n     * show the live support button.\r\n     */\r\n    if (!this.liveSupportEnabled) {\r\n      let intervalId: number;\r\n      let runs = 0;\r\n\r\n      const checker = () => {\r\n        const isEnabled = this.unbluEnabled();\r\n        if (isEnabled) {\r\n          this.liveSupportEnabled = true;\r\n        }\r\n        if (isEnabled || runs >= 5) {\r\n          window.clearInterval(intervalId);\r\n        }\r\n        runs++;\r\n      };\r\n\r\n      intervalId = window.setInterval(checker, 1000);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if the unblu live support script is loaded\r\n   * @returns Boolean\r\n   */\r\n  private unbluEnabled(): boolean {\r\n    return typeof window['unbluLSLoad'] === 'function';\r\n  }\r\n\r\n  render() {\r\n    // There is something wrong entirely\r\n    if (!state) {\r\n      console.warn(\r\n        `Internet Footer: Could not load config. Please make sure that you included the <swisspost-internet-header></swisspost-internet-header> component.`,\r\n      );\r\n      return null;\r\n    }\r\n\r\n    // Config has not loaded yet\r\n    if (!state.localizedConfig) {\r\n      return null;\r\n    }\r\n\r\n    // There's no footer config\r\n    if (!state.localizedConfig.footer) {\r\n      console.warn(\r\n        `Internet Footer: Current project \"${state.projectId}\" does not include a footer config. The footer will not be rendered. Remove `,\r\n        document.querySelector('swisspost-internet-footer'),\r\n        `from your markup or configure the footer in your portal config to stop seeing this warning.`,\r\n      );\r\n      return null;\r\n    }\r\n\r\n    const footerConfig = state.localizedConfig.footer;\r\n    const customFooterConfig = state.localizedCustomConfig?.footer;\r\n\r\n    return (\r\n      <Host>\r\n        <SvgSprite />\r\n        <footer class=\"post-internet-footer light font-curve-regular\">\r\n          <h2 class=\"visually-hidden\">{footerConfig.title}</h2>\r\n          {customFooterConfig?.block && <PostFooterBlockCustom block={customFooterConfig?.block} />}\r\n          <div class=\"footer-container container\">\r\n            {footerConfig.block\r\n              .filter(block => block.columnType === 'list')\r\n              .map(block => (\r\n                <PostFooterBlockList key={block.title} block={block} />\r\n              ))}\r\n            {footerConfig.block\r\n              .filter(block => block.columnType === 'contact')\r\n              .map(block => (\r\n                <PostFooterBlockContact\r\n                  key={block.title}\r\n                  block={block}\r\n                  liveSupportEnabled={this.liveSupportEnabled}\r\n                />\r\n              ))}\r\n            {footerConfig.block\r\n              .filter(block => block.columnType === 'address')\r\n              .map(block => (\r\n                <PostFooterBlockAddress key={block.title} block={block} />\r\n              ))}\r\n          </div>\r\n          <div class=\"copyright container\">\r\n            <span class=\"bold\">{footerConfig.entry.text}</span>\r\n            <ul class=\"no-list footer-meta-links\">\r\n              {footerConfig.links\r\n                ? footerConfig.links.map(link => (\r\n                    <li key={link.url}>\r\n                      <a class=\"nav-link\" href={link.url} target={link.target}>\r\n                        {link.text}\r\n                      </a>\r\n                    </li>\r\n                  ))\r\n                : null}\r\n            </ul>\r\n          </div>\r\n        </footer>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}