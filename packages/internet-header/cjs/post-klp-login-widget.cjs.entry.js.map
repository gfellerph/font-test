{"file":"post-klp-login-widget.entry.cjs.js","mappings":";;;;;;;;AAAA,MAAM,qBAAqB,GAAG,6snCAA6snC;;MCW9tnC,kBAAkB;;;;EAG7B,MAAM,gBAAgB;;IACpB,MAAM,EAAE,wBAAwB,EAAE,GAAG,MAAM,oDAAO,qCAAyB,KAAC,CAAC;IAC7E,IAAI,CAAA,MAAAA,WAAK,CAAC,eAAe,0CAAE,MAAM,CAAC,kBAAkB,MAAK,SAAS;MAAE,OAAO;IAC3E,wBAAwB,CAAC,uBAAuB,kCAC3CA,WAAK,CAAC,eAAe,CAAC,MAAM,CAAC,kBAAkB,KAClD,WAAW,EAAEA,WAAK,CAAC,WAAW,IAC9B,CAAC;GACJ;;;;EAMD,MAAM,QAAQ;;IACZ,MAAM,WAAW,GAAG,MAAA,IAAI,CAAC,IAAI,CAAC,UAAU,0CAAE,gBAAgB,CACxD,uEAAuE,CACxE,CAAC;IACF,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,EAAE;MACrC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;KACxB;GACF;EAED,MAAM;;IACJ,IAAI,EAAC,MAAA,MAAAA,WAAK,aAALA,WAAK,uBAALA,WAAK,CAAE,eAAe,0CAAE,MAAM,0CAAE,kBAAkB,CAAA,EAAE;MACvD,OAAO,CAAC,IAAI,CACV,sHAAsHA,WAAK,CAAC,SAAS,kHAAkH,CACxP,CAAC;MACF,OAAO,IAAI,CAAC;KACb;IACD,QACEC,QAACC,UAAI,QACHD,QAACE,6BAAS,OAAG,EACbF,iBAAK,KAAK,EAAC,gBAAgB,8BACzBA,iBAAK,EAAE,EAAC,uBAAuB,GAAO,CAClC,CACD,EACP;GACH;;;;;;;","names":["state","h","Host","SvgSprite"],"sources":["./src/components/post-klp-login-widget/post-klp-login-widget.scss?tag=post-klp-login-widget&encapsulation=shadow","./src/components/post-klp-login-widget/post-klp-login-widget.tsx"],"sourcesContent":["@use '@swisspost/design-system-styles/variables/color';\r\n@use '@swisspost/design-system-styles/components/button';\r\n@use '../../utils/utils.scss';\r\n@use '../../utils/mixins.scss';\r\n\r\n@use './widget-styles.scss';\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.widget-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.widget-wrapper,\r\n#post-klp-login-widget,\r\n.klp-widget-anonymous,\r\n.klp-widget-anonymous__wrapper,\r\n.klp-widget-anonymous__wrapper a {\r\n  height: 100%;\r\n}\r\n\r\n.klp-widget-anonymous__wrapper a {\r\n  display: flex;\r\n  align-items: center;\r\n  color: color.$gray-80;\r\n  text-decoration: none;\r\n  padding: 0 1rem;\r\n  transition: color 200ms;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    color: black;\r\n  }\r\n\r\n  @include mixins.min(lg) {\r\n    padding: 0 1.125rem;\r\n  }\r\n\r\n  span {\r\n    margin-right: 0.5rem;\r\n  }\r\n\r\n  svg {\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n  }\r\n}\r\n\r\n.klp-widget-anonymous__text {\r\n  @extend %visually-hidden;\r\n\r\n  @include mixins.between(rg, lg) {\r\n    @include mixins.reset-visually-hidden();\r\n  }\r\n\r\n  @include mixins.min(xl) {\r\n    @include mixins.reset-visually-hidden();\r\n  }\r\n}\r\n\r\n#post-klp-login-widget .nameAndInfoWrapper {\r\n  position: relative;\r\n  display: flex;\r\n\r\n  align-items: flex-start;\r\n  width: 224px;\r\n  height: 78px;\r\n  padding: 16px 0px;\r\n  line-height: 46px;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.modal-content {\r\n  position: relative;\r\n}\r\n\r\n.modal-text-container {\r\n  padding-top: 3rem;\r\n}\r\n\r\n#post-klp-login-widget .modal-button-container {\r\n  height: auto;\r\n  padding: 2rem;\r\n\r\n  & > .item-centered {\r\n    justify-content: center;\r\n  }\r\n}\r\n","import { Component, Host, h, Method, Element } from '@stencil/core';\r\nimport { state } from '../../data/store';\r\nimport { IsFocusable } from '../../models/header.model';\r\nimport { SvgSprite } from '../../utils/svg-sprite.component';\r\n\r\n@Component({\r\n  tag: 'post-klp-login-widget',\r\n  styleUrl: 'post-klp-login-widget.scss',\r\n  scoped: false,\r\n  shadow: true,\r\n})\r\nexport class PostKlpLoginWidget implements IsFocusable {\r\n  @Element() host: HTMLElement;\r\n\r\n  async componentDidLoad() {\r\n    const { initializeKLPLoginWidget } = await import('./klp-widget.controller');\r\n    if (state.localizedConfig?.header.loginWidgetOptions === undefined) return;\r\n    initializeKLPLoginWidget('post-klp-login-widget', {\r\n      ...state.localizedConfig.header.loginWidgetOptions,\r\n      environment: state.environment,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Sets the focus on the login button\r\n   */\r\n  @Method()\r\n  async setFocus() {\r\n    const loginButton = this.host.shadowRoot?.querySelectorAll<HTMLElement>(\r\n      '.klp-widget-anonymous__wrapper a, .klp-widget-authenticated-session a',\r\n    );\r\n    if (loginButton && loginButton.length) {\r\n      loginButton[0].focus();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!state?.localizedConfig?.header?.loginWidgetOptions) {\r\n      console.warn(\r\n        `Internet Header: the login widget is not configured in your portal config. Use <swisspost-internet-header project=\"${state.projectId}\" login=\"false\"></swisspost-internet-header> to turn off the login widget or configure it via the portal config.`,\r\n      );\r\n      return null;\r\n    }\r\n    return (\r\n      <Host>\r\n        <SvgSprite />\r\n        <div class=\"widget-wrapper\" data-hj-suppress>\r\n          <div id=\"post-klp-login-widget\"></div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}