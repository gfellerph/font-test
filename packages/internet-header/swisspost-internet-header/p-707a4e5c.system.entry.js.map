{"version":3,"names":["LogoSprite","h","style","display","id","viewBox","fill","d","FaviconSvg","props","class","className","href","postLogoCss","PostLogo","exports","class_1","hostRef","_this","this","throttledResize","throttle","handleResize","window","addEventListener","passive","resizeObserver","ResizeObserver","bind","prototype","componentDidLoad","mainNavControls","_a","host","parentElement","querySelector","observe","disconnectedCallback","removeEventListener","disconnect","menuButton","_b","showFaviconLogo","innerWidth","clientWidth","render","state","localizedConfig","header","logo","undefined","config","Host","logoLink","logoLinkTitle","src","logoSvg","alt","logoText"],"sources":["src/components/post-logo/logo-sprite.component.tsx","src/components/post-logo/post-logo.scss?tag=post-logo&encapsulation=shadow","src/components/post-logo/post-logo.tsx"],"sourcesContent":["import { h } from '@stencil/core';\r\n\r\nexport const LogoSprite = () => (\r\n  <svg aria-hidden=\"true\" style={{ display: 'none' }}>\r\n    <symbol id=\"favicon\" viewBox=\"0 0 48 48\">\r\n      <g clip-path=\"url(#a)\">\r\n        <path fill=\"#FC0\" d=\"M47.2 0H0v47.2h47.2V0Z\" />\r\n        <path\r\n          fill=\"#fff\"\r\n          fill-rule=\"evenodd\"\r\n          d=\"m18.68 35.91 1.48-7.02H6.42l-1.47 7.02h13.73Z\"\r\n          clip-rule=\"evenodd\"\r\n        />\r\n        <path\r\n          fill=\"#000\"\r\n          fill-rule=\"evenodd\"\r\n          d=\"M16.96 16.56c-.47-.07-.94-.1-1.42-.1H11.6L8.5 31.1h3.1l.95-4.47h1.8c.74.02 1.48-.07 2.18-.27a5.8 5.8 0 0 0 4-4.59c.49-2.73-.87-4.76-3.57-5.2Zm.47 5.06a2.63 2.63 0 0 1-2.06 2.22c-.33.06-.66.1-1 .1h-1.25l1-4.78h1.36c.31-.01.62.03.92.11.77.26 1.24 1.03 1.03 2.35\"\r\n          clip-rule=\"evenodd\"\r\n        />\r\n        <path\r\n          fill=\"red\"\r\n          fill-rule=\"evenodd\"\r\n          d=\"m34.5 16.43 1.86-8.84H24.63l-2.45 11.58h2.9l1.87-8.84h5.93L31 19.17h8.8l-1.17 5.53h-8.75l-1.75 8.28H21.5l-.57 2.78h9.54l1.75-8.3h8.72l2.34-11.03H34.5Z\"\r\n          clip-rule=\"evenodd\"\r\n        />\r\n      </g>\r\n      <defs>\r\n        <clipPath id=\"a\">\r\n          <path fill=\"#fff\" d=\"M0 0h47.2v47.2H0z\" />\r\n        </clipPath>\r\n      </defs>\r\n    </symbol>\r\n  </svg>\r\n);\r\n\r\nexport const FaviconSvg = (props: { className?: string }) => (\r\n  <svg viewBox=\"0 0 48 48\" class={props.className} aria-hidden=\"true\">\r\n    <use href=\"#favicon\" />\r\n  </svg>\r\n);\r\n","@use \"@swisspost/design-system-styles/variables/color\";\r\n@use \"../../utils/utils.scss\";\r\n@use \"../../utils/mixins.scss\";\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.logo {\r\n  display: block;\r\n  align-items: center;\r\n  background: color.$yellow;\r\n\r\n}\r\n\r\nsvg,\r\n.logo-svg {\r\n  display: block;\r\n  height: var(--header-height);\r\n}\r\n\r\n.square-logo {\r\n  display: block;\r\n\r\n  @include mixins.min(sm) {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.full-logo {\r\n  display: none;\r\n\r\n  @include mixins.min(sm) {\r\n    display: block;\r\n  }\r\n}\r\n","import { Component, Host, h, State, Element } from '@stencil/core';\r\nimport { throttle } from 'throttle-debounce';\r\nimport { state } from '../../data/store';\r\nimport { LogoSprite, FaviconSvg } from './logo-sprite.component';\r\n\r\n@Component({\r\n  tag: 'post-logo',\r\n  styleUrl: 'post-logo.scss',\r\n  shadow: true,\r\n})\r\nexport class PostLogo {\r\n  @State() showFaviconLogo: boolean;\r\n  @Element() host: HTMLPostLogoElement;\r\n  private throttledResize: throttle<() => void>;\r\n  private resizeObserver: ResizeObserver;\r\n\r\n  constructor() {\r\n    // Register window resize event listener and a resize observer on the mainnav controls (they change size while controls are being loaded) to display an accurately sized logo\r\n    this.throttledResize = throttle(300, () => this.handleResize());\r\n    window.addEventListener('resize', this.throttledResize, { passive: true });\r\n    this.resizeObserver = new ResizeObserver(this.handleResize.bind(this));\r\n\r\n    // Initially call the resize handler\r\n    this.handleResize();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    const mainNavControls = this.host.parentElement?.querySelector('.main-navigation-controls');\r\n    if (mainNavControls) {\r\n      this.resizeObserver.observe(mainNavControls);\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    window.removeEventListener('resize', this.throttledResize);\r\n    this.resizeObserver.disconnect();\r\n  }\r\n\r\n  handleResize() {\r\n    const mainNavControls = this.host.parentElement?.querySelector('.main-navigation-controls');\r\n    const menuButton = this.host.parentElement?.querySelector('.menu-button');\r\n    if (mainNavControls && menuButton)\r\n      this.showFaviconLogo =\r\n        window.innerWidth - (150 + mainNavControls.clientWidth + menuButton.clientWidth) <= 0;\r\n  }\r\n\r\n  render() {\r\n    if (state.localizedConfig?.header.logo === undefined) return;\r\n    const config = state.localizedConfig.header.logo;\r\n\r\n    return (\r\n      <Host>\r\n        <LogoSprite />\r\n        <a href={config.logoLink} class=\"logo\">\r\n          <span class=\"visually-hidden\">{config.logoLinkTitle}</span>\r\n          <FaviconSvg className=\"square-logo\" />\r\n          <img class=\"logo-svg full-logo\" src={config.logoSvg} alt={config.logoText} />\r\n        </a>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"sPAEO,IAAMA,EAAa,kBACxBC,EAAA,qBAAiB,OAAOC,MAAO,CAAEC,QAAS,SACxCF,EAAA,UAAQG,GAAG,UAAUC,QAAQ,aAC3BJ,EAAA,iBAAa,WACXA,EAAA,QAAMK,KAAK,OAAOC,EAAE,2BACpBN,EAAA,QACEK,KAAK,OAAM,YACD,UACVC,EAAE,gDAA+C,YACvC,YAEZN,EAAA,QACEK,KAAK,OAAM,YACD,UACVC,EAAE,sQAAqQ,YAC7P,YAEZN,EAAA,QACEK,KAAK,MAAK,YACA,UACVC,EAAE,yJAAwJ,YAChJ,aAGdN,EAAA,YACEA,EAAA,YAAUG,GAAG,KACXH,EAAA,QAAMK,KAAK,OAAOC,EAAE,yBA1BJ,EAiCnB,IAAMC,EAAa,SAACC,GAA6B,OACtDR,EAAA,OAAKI,QAAQ,YAAYK,MAAOD,EAAME,UAAS,cAAc,QAC3DV,EAAA,OAAKW,KAAK,aAF0C,ECnCxD,IAAMC,EAAc,szE,ICUPC,EAAQC,EAAA,uBAMnB,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,K,yCAEEA,KAAKC,gBAAkBC,EAAS,KAAK,WAAM,OAAAH,EAAKI,cAAL,IAC3CC,OAAOC,iBAAiB,SAAUL,KAAKC,gBAAiB,CAAEK,QAAS,OACnEN,KAAKO,eAAiB,IAAIC,eAAeR,KAAKG,aAAaM,KAAKT,OAGhEA,KAAKG,c,CAGPN,EAAAa,UAAAC,iBAAA,W,MACE,IAAMC,GAAkBC,EAAAb,KAAKc,KAAKC,iBAAa,MAAAF,SAAA,SAAAA,EAAEG,cAAc,6BAC/D,GAAIJ,EAAiB,CACnBZ,KAAKO,eAAeU,QAAQL,E,GAIhCf,EAAAa,UAAAQ,qBAAA,WACEd,OAAOe,oBAAoB,SAAUnB,KAAKC,iBAC1CD,KAAKO,eAAea,Y,EAGtBvB,EAAAa,UAAAP,aAAA,W,QACE,IAAMS,GAAkBC,EAAAb,KAAKc,KAAKC,iBAAa,MAAAF,SAAA,SAAAA,EAAEG,cAAc,6BAC/D,IAAMK,GAAaC,EAAAtB,KAAKc,KAAKC,iBAAa,MAAAO,SAAA,SAAAA,EAAEN,cAAc,gBAC1D,GAAIJ,GAAmBS,EACrBrB,KAAKuB,gBACHnB,OAAOoB,YAAc,IAAMZ,EAAgBa,YAAcJ,EAAWI,cAAgB,C,EAG1F5B,EAAAa,UAAAgB,OAAA,W,MACE,KAAIb,EAAAc,EAAMC,mBAAe,MAAAf,SAAA,SAAAA,EAAEgB,OAAOC,QAASC,UAAW,OACtD,IAAMC,EAASL,EAAMC,gBAAgBC,OAAOC,KAE5C,OACEhD,EAACmD,EAAI,KACHnD,EAACD,EAAU,MACXC,EAAA,KAAGW,KAAMuC,EAAOE,SAAU3C,MAAM,QAC9BT,EAAA,QAAMS,MAAM,mBAAmByC,EAAOG,eACtCrD,EAACO,EAAU,CAACG,UAAU,gBACtBV,EAAA,OAAKS,MAAM,qBAAqB6C,IAAKJ,EAAOK,QAASC,IAAKN,EAAOO,Y,yHA9CtD,I"}