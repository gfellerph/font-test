{"version":3,"names":["postKlpLoginWidgetCss","PostKlpLoginWidget","exports","class_1","prototype","componentDidLoad","module","import","initializeKLPLoginWidget","_c","sent","_a","state","localizedConfig","header","loginWidgetOptions","undefined","Object","assign","environment","setFocus","loginButton","this","host","shadowRoot","querySelectorAll","length","focus","render","_b","console","warn","concat","projectId","h","Host","SvgSprite","class","id"],"sources":["src/components/post-klp-login-widget/post-klp-login-widget.scss?tag=post-klp-login-widget&encapsulation=shadow","src/components/post-klp-login-widget/post-klp-login-widget.tsx"],"sourcesContent":["@use '@swisspost/design-system-styles/variables/color';\r\n@use '@swisspost/design-system-styles/components/button';\r\n@use '../../utils/utils.scss';\r\n@use '../../utils/mixins.scss';\r\n\r\n@use './widget-styles.scss';\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.widget-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.widget-wrapper,\r\n#post-klp-login-widget,\r\n.klp-widget-anonymous,\r\n.klp-widget-anonymous__wrapper,\r\n.klp-widget-anonymous__wrapper a {\r\n  height: 100%;\r\n}\r\n\r\n.klp-widget-anonymous__wrapper a {\r\n  display: flex;\r\n  align-items: center;\r\n  color: color.$gray-80;\r\n  text-decoration: none;\r\n  padding: 0 1rem;\r\n  transition: color 200ms;\r\n\r\n  &:hover,\r\n  &:focus {\r\n    color: black;\r\n  }\r\n\r\n  @include mixins.min(lg) {\r\n    padding: 0 1.125rem;\r\n  }\r\n\r\n  span {\r\n    margin-right: 0.5rem;\r\n  }\r\n\r\n  svg {\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n  }\r\n}\r\n\r\n.klp-widget-anonymous__text {\r\n  @extend %visually-hidden;\r\n\r\n  @include mixins.between(rg, lg) {\r\n    @include mixins.reset-visually-hidden();\r\n  }\r\n\r\n  @include mixins.min(xl) {\r\n    @include mixins.reset-visually-hidden();\r\n  }\r\n}\r\n\r\n#post-klp-login-widget .nameAndInfoWrapper {\r\n  position: relative;\r\n  display: flex;\r\n\r\n  align-items: flex-start;\r\n  width: 224px;\r\n  height: 78px;\r\n  padding: 16px 0px;\r\n  line-height: 46px;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.modal-content {\r\n  position: relative;\r\n}\r\n\r\n.modal-text-container {\r\n  padding-top: 3rem;\r\n}\r\n\r\n#post-klp-login-widget .modal-button-container {\r\n  height: auto;\r\n  padding: 2rem;\r\n\r\n  & > .item-centered {\r\n    justify-content: center;\r\n  }\r\n}\r\n","import { Component, Host, h, Method, Element } from '@stencil/core';\r\nimport { state } from '../../data/store';\r\nimport { IsFocusable } from '../../models/header.model';\r\nimport { SvgSprite } from '../../utils/svg-sprite.component';\r\n\r\n@Component({\r\n  tag: 'post-klp-login-widget',\r\n  styleUrl: 'post-klp-login-widget.scss',\r\n  scoped: false,\r\n  shadow: true,\r\n})\r\nexport class PostKlpLoginWidget implements IsFocusable {\r\n  @Element() host: HTMLElement;\r\n\r\n  async componentDidLoad() {\r\n    const { initializeKLPLoginWidget } = await import('./klp-widget.controller');\r\n    if (state.localizedConfig?.header.loginWidgetOptions === undefined) return;\r\n    initializeKLPLoginWidget('post-klp-login-widget', {\r\n      ...state.localizedConfig.header.loginWidgetOptions,\r\n      environment: state.environment,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Sets the focus on the login button\r\n   */\r\n  @Method()\r\n  async setFocus() {\r\n    const loginButton = this.host.shadowRoot?.querySelectorAll<HTMLElement>(\r\n      '.klp-widget-anonymous__wrapper a, .klp-widget-authenticated-session a',\r\n    );\r\n    if (loginButton && loginButton.length) {\r\n      loginButton[0].focus();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!state?.localizedConfig?.header?.loginWidgetOptions) {\r\n      console.warn(\r\n        `Internet Header: the login widget is not configured in your portal config. Use <swisspost-internet-header project=\"${state.projectId}\" login=\"false\"></swisspost-internet-header> to turn off the login widget or configure it via the portal config.`,\r\n      );\r\n      return null;\r\n    }\r\n    return (\r\n      <Host>\r\n        <SvgSprite />\r\n        <div class=\"widget-wrapper\" data-hj-suppress>\r\n          <div id=\"post-klp-login-widget\"></div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"ssDAAA,IAAMA,EAAwB,8snC,ICWjBC,EAAkBC,EAAA,mC,wBAGvBC,EAAAC,UAAAC,iBAAN,W,oHACuC,SAAMC,EAAAC,OAAO,2B,OAA1CC,EAA6BC,EAAAC,OAAuCF,yBAC5E,KAAIG,EAAAC,EAAMC,mBAAe,MAAAF,SAAA,SAAAA,EAAEG,OAAOC,sBAAuBC,UAAW,UACpER,EAAyB,wBAAuBS,OAAAC,OAAAD,OAAAC,OAAA,GAC3CN,EAAMC,gBAAgBC,OAAOC,oBAAkB,CAClDI,YAAaP,EAAMO,e,kBAQjBhB,EAAAC,UAAAgB,SAAN,W,6FACQC,GAAcV,EAAAW,KAAKC,KAAKC,cAAU,MAAAb,SAAA,SAAAA,EAAEc,iBACxC,yEAEF,GAAIJ,GAAeA,EAAYK,OAAQ,CACrCL,EAAY,GAAGM,O,kBAInBxB,EAAAC,UAAAwB,OAAA,W,QACE,MAAKC,GAAAlB,EAAAC,IAAK,MAALA,SAAK,SAALA,EAAOC,mBAAe,MAAAF,SAAA,SAAAA,EAAEG,UAAM,MAAAe,SAAA,SAAAA,EAAEd,oBAAoB,CACvDe,QAAQC,KACN,sHAAAC,OAAsHpB,EAAMqB,UAAS,qHAEvI,OAAO,I,CAET,OACEC,EAACC,EAAI,KACHD,EAACE,EAAS,MACVF,EAAA,OAAKG,MAAM,iBAAgB,yBACzBH,EAAA,OAAKI,GAAG,2B,yHApCa,I"}