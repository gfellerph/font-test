{"version":3,"names":["postSkiplinksCss","PostSkiplinks","getMainId","_a","document","querySelector","getAttribute","setFocus","tagname","rootHost","this","host","closest","focusable","focusMain","focusSearch","focusLogin","render","config","state","localizedConfig","header","mainId","undefined","h","Host","class","translate","href","logo","logoLink","accessKey","title","logoLinkTitle","SvgIcon","name","onClick","translations","navMainAriaLabel","search","login"],"sources":["./src/components/post-skiplinks/post-skiplinks.scss?tag=post-skiplinks","./src/components/post-skiplinks/post-skiplinks.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n\r\n.skiplinks {\r\n  a {\r\n    position: absolute;\r\n    top: 0.5rem;\r\n    left: 0.5rem;\r\n    clip: rect(0 0 0 0);\r\n    width: 1px;\r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0.25rem;\r\n    background: white;\r\n\r\n    &:focus-visible {\r\n      clip: unset;\r\n      width: auto;\r\n    }\r\n  }\r\n}\r\n","import { Component, Host, h, Element } from '@stencil/core';\r\nimport { state } from '../../data/store';\r\nimport { FocusableElement } from '../../models/header.model';\r\nimport { translate } from '../../services/language.service';\r\nimport { SvgIcon } from '../../utils/svg-icon.component';\r\n\r\n@Component({\r\n  tag: 'post-skiplinks',\r\n  styleUrl: 'post-skiplinks.scss',\r\n  shadow: false,\r\n})\r\nexport class PostSkiplinks {\r\n  @Element() host: HTMLElement;\r\n\r\n  private getMainId() {\r\n    return document.querySelector('main[id]')?.getAttribute('id');\r\n  }\r\n\r\n  private setFocus(tagname: string) {\r\n    const rootHost = this.host.closest('.post-internet-header');\r\n    if (!rootHost) {\r\n      return;\r\n    }\r\n\r\n    const focusable = rootHost.querySelector<FocusableElement>(tagname);\r\n    if (focusable) {\r\n      focusable.setFocus();\r\n    }\r\n  }\r\n\r\n  private focusMain() {\r\n    this.setFocus('post-main-navigation');\r\n  }\r\n\r\n  private focusSearch() {\r\n    this.setFocus('post-search');\r\n  }\r\n\r\n  private focusLogin() {\r\n    this.setFocus('post-klp-login-widget');\r\n  }\r\n\r\n  render() {\r\n    const config = state.localizedConfig?.header;\r\n    const mainId = this.getMainId();\r\n\r\n    if (config === undefined) {\r\n      return;\r\n    }\r\n\r\n    return (\r\n      <Host>\r\n        <div class=\"skiplinks\">\r\n          <h1 class=\"visually-hidden\">{translate('Navigate on post.ch')}</h1>\r\n          <ul class=\"no-list\">\r\n            <li>\r\n              <a class=\"nav-link\" href={config.logo.logoLink} accessKey=\"0\" title=\"[ALT + 0]\">\r\n                <span>{config.logo.logoLinkTitle}</span>\r\n                <SvgIcon name=\"pi-pointy-arrow-right\" />\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                class=\"nav-link\"\r\n                href=\"#post-internet-header-main-navigation\"\r\n                accessKey=\"1\"\r\n                title=\"[ALT + 1]\"\r\n                onClick={() => this.focusMain()}\r\n              >\r\n                <span>{config.translations.navMainAriaLabel}</span>\r\n                <SvgIcon name=\"pi-pointy-arrow-right\" />\r\n              </a>\r\n            </li>\r\n            {mainId ? (\r\n              <li>\r\n                <a class=\"nav-link\" href={`#${mainId}`} accessKey=\"2\" title=\"[ALT + 2]\">\r\n                  <span>{translate('Go to main content')}</span>\r\n                  <SvgIcon name=\"pi-pointy-arrow-right\" />\r\n                </a>\r\n              </li>\r\n            ) : null}\r\n            {state.search ? (\r\n              <li>\r\n                <a\r\n                  class=\"nav-link\"\r\n                  href=\"#post-internet-header-search-button\"\r\n                  accessKey=\"3\"\r\n                  title=\"[ALT + 3]\"\r\n                  onClick={() => this.focusSearch()}\r\n                >\r\n                  <span>{translate('Go to search')}</span>\r\n                  <SvgIcon name=\"pi-pointy-arrow-right\" />\r\n                </a>\r\n              </li>\r\n            ) : null}\r\n            {state.login ? (\r\n              <li>\r\n                <a\r\n                  class=\"nav-link\"\r\n                  href=\"#post-klp-login-widget\"\r\n                  accessKey=\"4\"\r\n                  title=\"[ALT + 4]\"\r\n                  onClick={() => this.focusLogin()}\r\n                >\r\n                  <span>{translate('Go to login')}</span>\r\n                  <SvgIcon name=\"pi-pointy-arrow-right\" />\r\n                </a>\r\n              </li>\r\n            ) : null}\r\n          </ul>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"qKAAA,MAAMA,EAAmB,sR,MCWZC,EAAa,M,yBAGhBC,Y,MACN,OAAOC,EAAAC,SAASC,cAAc,eAAW,MAAAF,SAAA,SAAAA,EAAEG,aAAa,K,CAGlDC,SAASC,GACf,MAAMC,EAAWC,KAAKC,KAAKC,QAAQ,yBACnC,IAAKH,EAAU,CACb,M,CAGF,MAAMI,EAAYJ,EAASJ,cAAgCG,GAC3D,GAAIK,EAAW,CACbA,EAAUN,U,EAINO,YACNJ,KAAKH,SAAS,uB,CAGRQ,cACNL,KAAKH,SAAS,c,CAGRS,aACNN,KAAKH,SAAS,wB,CAGhBU,S,MACE,MAAMC,GAASf,EAAAgB,EAAMC,mBAAe,MAAAjB,SAAA,SAAAA,EAAEkB,OACtC,MAAMC,EAASZ,KAAKR,YAEpB,GAAIgB,IAAWK,UAAW,CACxB,M,CAGF,OACEC,EAACC,EAAI,KACHD,EAAA,OAAKE,MAAM,aACTF,EAAA,MAAIE,MAAM,mBAAmBC,EAAU,wBACvCH,EAAA,MAAIE,MAAM,WACRF,EAAA,UACEA,EAAA,KAAGE,MAAM,WAAWE,KAAMV,EAAOW,KAAKC,SAAUC,UAAU,IAAIC,MAAM,aAClER,EAAA,YAAON,EAAOW,KAAKI,eACnBT,EAACU,EAAO,CAACC,KAAK,4BAGlBX,EAAA,UACEA,EAAA,KACEE,MAAM,WACNE,KAAK,wCACLG,UAAU,IACVC,MAAM,YACNI,QAAS,IAAM1B,KAAKI,aAEpBU,EAAA,YAAON,EAAOmB,aAAaC,kBAC3Bd,EAACU,EAAO,CAACC,KAAK,4BAGjBb,EACCE,EAAA,UACEA,EAAA,KAAGE,MAAM,WAAWE,KAAM,IAAIN,IAAUS,UAAU,IAAIC,MAAM,aAC1DR,EAAA,YAAOG,EAAU,uBACjBH,EAACU,EAAO,CAACC,KAAK,4BAGhB,KACHhB,EAAMoB,OACLf,EAAA,UACEA,EAAA,KACEE,MAAM,WACNE,KAAK,sCACLG,UAAU,IACVC,MAAM,YACNI,QAAS,IAAM1B,KAAKK,eAEpBS,EAAA,YAAOG,EAAU,iBACjBH,EAACU,EAAO,CAACC,KAAK,4BAGhB,KACHhB,EAAMqB,MACLhB,EAAA,UACEA,EAAA,KACEE,MAAM,WACNE,KAAK,yBACLG,UAAU,IACVC,MAAM,YACNI,QAAS,IAAM1B,KAAKM,cAEpBQ,EAAA,YAAOG,EAAU,gBACjBH,EAACU,EAAO,CAACC,KAAK,4BAGhB,O"}